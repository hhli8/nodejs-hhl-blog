webpackJsonp([70],{"9r/t":function(e,t){},O2fr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("Dd8w"),r=a.n(o),l=a("voil"),n=a("iIbE"),i={name:"engine",components:{Loading:l.a},data:function(){return{showLoading:!1,tabledata:[],options:[],queryParams:{currentPage:1,pageSize:20,isGrounding:"Y"},totalSize:0,formInline:{rebateNm:"",itemCategory:[],idStr:"",itemName:""},obtainedArr:[],itemCategoryList:[],cateGoryConfig:{label:"categoryName",value:"categoryName",children:"children"}}},created:function(){this.getTechCategoryList(),this.getFaliWeb(),this.getItemList()},methods:{indexMethod:function(e){return e+1+(this.queryParams.currentPage-1)*this.queryParams.pageSize},getTechCategoryList:function(){var e=this;Object(n.k)().then(function(t){e.itemCategoryList=e.handleData(t.dataList)})},getFaliWeb:function(){var e=this;Object(n.f)().then(function(t){e.options=t.data&&["全部"].concat(t.data.webList)})},getItemList:function(){var e=this;this.showLoading=!0;var t=r()({},this.queryParams,this.formInline);t.itemCategory=t.itemCategory,"全部"===t.rebateNm&&(t.rebateNm=""),Object(n.h)(t).then(function(t){e.showLoading=!1,e.totalSize=t.totalSize,e.tabledata=t.dataList}).catch(function(t){e.showLoading=!1,e.$message.error(t)})},onSearch:function(){this.queryParams.currentPage=1,this.getItemList()},onReset:function(e){this.$refs[e].resetFields()},onObtained:function(e){var t=this;Object(n.m)({strArr:(this.obtainedArr||[]).join(","),isGrounding:"N"}).then(function(e){t.$message.success("下架成功"),t.getItemList()}).catch(function(e){t.$message.error(e)})},handleSelectionChange:function(e){var t=this;this.obtainedArr=[],(e||[]).map(function(e){t.obtainedArr.push(e.idStr)})},handleSizeChange:function(e){this.queryParams.pageSize=e,this.getItemList()},handleCurrentChange:function(e){this.queryParams.currentPage=e,this.getItemList()},handleData:function(e){var t=this;return e.forEach(function(e){0===e.children.length?delete e.children:t.handleData(e.children)}),e}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container engine"},[a("el-form",{ref:"formInline",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"返利网",prop:"rebateNm"}},[a("el-select",{attrs:{placeholder:"请选择返利网站"},model:{value:e.formInline.rebateNm,callback:function(t){e.$set(e.formInline,"rebateNm",t)},expression:"formInline.rebateNm"}},e._l(e.options,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"分类",prop:"itemCategory"}},[a("el-cascader",{staticStyle:{width:"300px"},attrs:{placeholder:"请选择分类",props:e.cateGoryConfig,options:e.itemCategoryList,clearable:""},model:{value:e.formInline.itemCategory,callback:function(t){e.$set(e.formInline,"itemCategory",t)},expression:"formInline.itemCategory"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品名称",prop:"itemName"}},[a("el-input",{attrs:{placeholder:"请输入商品名称"},model:{value:e.formInline.itemName,callback:function(t){e.$set(e.formInline,"itemName",t)},expression:"formInline.itemName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品编号",prop:"idStr"}},[a("el-input",{attrs:{placeholder:"请输入商品编号"},model:{value:e.formInline.idStr,callback:function(t){e.$set(e.formInline,"idStr",t)},expression:"formInline.idStr"}})],1),e._v(" "),a("el-form-item",{staticClass:"fr"},[a("el-button",{attrs:{type:"danger"},on:{click:function(t){e.onReset("formInline")}}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.onSearch}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{disabled:!(this.obtainedArr.length>0),type:"success"},on:{click:e.onObtained}},[e._v("下架")])],1)],1),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tabledata,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{label:"序号",type:"index",fixed:"",index:e.indexMethod}}),e._v(" "),a("el-table-column",{attrs:{prop:"idStr",label:"商品编号",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{prop:"itemName",label:"商品中文名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"itemNameEn",label:"商品官网名称","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"itemFile",label:"图片","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticClass:"imgstyle",attrs:{src:e.row.itemFile,alt:"没有图片"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"itemCategory",label:"类目","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"madeIn",label:"来源国家(中文)","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"madeInEn",label:"来源国家","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"targetUrl",label:"商品详情页URL","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"crawPrice",label:"官网售价","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"conversPrice",label:"换算价(RMB)","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"systemPrice",label:"系统定价(RMB)","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"weight",label:"预估重量(kg)","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"cabshu",label:"参数详情","show-overflow-tooltip":""}},[[a("el-button",[e._v("查看")])]],2),e._v(" "),a("el-table-column",{attrs:{prop:"officeFreight",label:"官网运费(RMB)","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"interFreight",label:"国际运费(RMB)","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"standardTariff",label:"预估标准清关税费(RMB)","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"crossBorderTariff",label:"预估跨境清关税费(RMB)","show-overflow-tooltip":""}})],1),e._v(" "),a("el-pagination",{staticClass:"pagination",attrs:{"current-page":e.queryParams.currentPage,"page-sizes":[20,30,40,50],"page-size":e.queryParams.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("Loading",{directives:[{name:"show",rawName:"v-show",value:e.showLoading,expression:"showLoading"}]})],1)},staticRenderFns:[]};var c=a("VU/8")(i,s,!1,function(e){a("9r/t")},"data-v-4d63864c",null);t.default=c.exports}});