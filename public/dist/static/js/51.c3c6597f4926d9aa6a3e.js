webpackJsonp([51],{vyP6:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t("bQok"),s={name:"priceConfig",data:function(){return{options:[],compareResult:!1,addUserDialog:!1,title:"添加账户",totalSize:0,searchParam:{account:"",isHaitao:""},isHaitaoArr:[{label:"全部",value:""},{label:"是",value:1},{label:"否",value:0}],addUserParam:{account:"",password:"",role_id:"",phone:"",email:"",address:"",name:""},dataList:[],currentPage:1,pageSize:10,formLabelWidth:"100px"}},created:function(){this.getUserList()},methods:{getUserList:function(){var e=this,a=new FormData;a.append("pageSize",e.pageSize),a.append("currentPage",e.currentPage),a.append("account",e.searchParam.account),a.append("isHaitao",e.searchParam.isHaitao),r.a.supplierUser(a).then(function(a){e.dataList=a.result.data,e.totalSize=a.result.totalSize}).catch()},addUser:function(){this.title="添加账户",this.addUserDialog=!0},cancelAdd:function(){this.addUserDialog=!1,this.addUserParam={account:"",password:"",role_id:"",phone:"",email:"",address:""}},saveUser:function(){var e=this,a=new FormData;a.append("account",e.addUserParam.account),a.append("password",e.addUserParam.password),a.append("phone",e.addUserParam.phone),a.append("email",e.addUserParam.email),a.append("address",e.addUserParam.address),a.append("name",e.addUserParam.name),e.addUserParam.id?(a.append("id",e.addUserParam.id),r.a.editUser(a).then(function(a){e.$message({type:"success",message:a.message}),e.addUserDialog=!1,e.getUserList()}).catch()):r.a.addnewuser(a).then(function(a){e.$message({type:"success",message:a.message}),e.addUserDialog=!1,e.getUserList()}).catch()},edit:function(e){this.$router.push({name:"editPriceConfig",query:{id:e.id,account:e.account}})},lock:function(e){var a=this,t=new FormData;t.append("id",e.id),t.append("status",1===e.status?0:1),r.a.userLocked(t).then(function(e){a.$message({type:"success",message:e.message}),a.getUserList()}).catch()},deleteUser:function(e){var a=this;a.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t=new FormData;t.append("id",e.id),r.a.userDelete(t).then(function(e){a.$message({type:"success",message:e.message}),a.getUserList()}).catch()})},handleSizeChange:function(e){this.pageSize=e,this.getUserList()},handleCurrentChange:function(e){this.currentPage=e,this.getUserList()}}},n={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"app-container",attrs:{id:"account-set"}},[t("section",[t("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[t("el-form-item",{attrs:{label:"供货商名称："}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.searchParam.account,callback:function(a){e.$set(e.searchParam,"account",a)},expression:"searchParam.account"}},e._l(e.dataList,function(e){return t("el-option",{key:e.id,attrs:{label:e.account,value:e.account}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"是否海淘供货商："}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchParam.isHaitao,callback:function(a){e.$set(e.searchParam,"isHaitao",a)},expression:"searchParam.isHaitao"}},e._l(e.isHaitaoArr,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.getUserList}},[e._v("查询")])],1)],1),e._v(" "),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.dataList,border:"",align:"center"}},[t("el-table-column",{attrs:{prop:"account",align:"center",label:"用户名"}}),e._v(" "),t("el-table-column",{attrs:{prop:"name",align:"center",label:"供货商名称"}}),e._v(" "),t("el-table-column",{attrs:{prop:"isHaitao",align:"center",label:"是否海淘供应商"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(0===a.row.isHaitao?"普通":"海淘供应商"))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"createDate",align:"center",label:"创建时间"}}),e._v(" "),t("el-table-column",{attrs:{prop:"name",align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){e.edit(a.row)}}},[e._v("编辑")]),e._v(" "),t("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){e.deleteUser(a.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),t("el-pagination",{staticClass:"pagination",attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40,50],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),t("el-dialog",{attrs:{title:e.title,visible:e.addUserDialog},on:{"update:visible":function(a){e.addUserDialog=a}}},[t("el-form",{attrs:{model:e.addUserParam}},[t("el-form-item",{attrs:{label:"用户名","label-width":e.formLabelWidth}},[t("el-input",{model:{value:e.addUserParam.account,callback:function(a){e.$set(e.addUserParam,"account",a)},expression:"addUserParam.account"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"密码","label-width":e.formLabelWidth}},[t("el-input",{model:{value:e.addUserParam.password,callback:function(a){e.$set(e.addUserParam,"password",a)},expression:"addUserParam.password"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"供货商名称","label-width":e.formLabelWidth}},[t("el-input",{model:{value:e.addUserParam.name,callback:function(a){e.$set(e.addUserParam,"name",a)},expression:"addUserParam.name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"地址","label-width":e.formLabelWidth}},[t("el-input",{model:{value:e.addUserParam.address,callback:function(a){e.$set(e.addUserParam,"address",a)},expression:"addUserParam.address"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"联系电话","label-width":e.formLabelWidth}},[t("el-input",{model:{value:e.addUserParam.phone,callback:function(a){e.$set(e.addUserParam,"phone",a)},expression:"addUserParam.phone"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"邮箱","label-width":e.formLabelWidth}},[t("el-input",{model:{value:e.addUserParam.email,callback:function(a){e.$set(e.addUserParam,"email",a)},expression:"addUserParam.email"}})],1)],1),e._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.cancelAdd}},[e._v("取 消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:e.saveUser}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var l=t("VU/8")(s,n,!1,function(e){t("wMmz")},null,null);a.default=l.exports},wMmz:function(e,a){}});