webpackJsonp([7],{"29Dd":function(e,t){},"6yp2":function(e,t,a){"use strict";t.m=function(e){return Object(i.a)({url:l+"/v1/manager/supplier/search",method:"post",data:s.a.stringify(e),headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}})},t.g=function(e){return Object(i.a)({url:l+"/v1/erp/category/search",method:"get",params:e,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}})},t.j=function(e){return Object(i.a)({url:l+"/v1/manager/goodsEngine/search",method:"post",data:s.a.stringify(e),headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}})},t.o=function(e){return Object(i.a)({url:l+"/v1/manager/goodsEngine/deleteFromEs",method:"post",data:s.a.stringify(e),headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}})},t.k=function(e){return Object(i.a)({url:l+"/v1/manager/goods/search",method:"post",data:s.a.stringify(e),headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}})},t.q=function(e){return Object(i.a)({url:l+"/v1/manager/goods/likeSearch",method:"post",data:s.a.stringify(e),headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}})},t.b=function(e){return Object(i.a)({url:l+"/v1/manager/goods/batchApprove",method:"post",data:e})},t.a=function(e){return Object(i.a)({url:l+"/v1/manager/goods/approve",method:"post",data:s.a.stringify(e),headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}})},t.p=function(e){return Object(i.a)({url:l+"/v1/manager/goods/putGoodsToES",method:"post",data:s.a.stringify(e),headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}})},t.c=function(e){return Object(i.a)({url:l+"/v1/manager/goods/delete",method:"post",data:s.a.stringify(e),headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}})},t.n=function(e){return Object(i.a)({url:l+"/v1/manager/goods/getGoodsCategory",method:"get",params:e,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}})},t.d=function(e){return Object(i.a)({url:l+"/v1/manager/goods/modifyGoodsCategory",method:"post",data:s.a.stringify(e),headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}})},t.i=function(e){return Object(i.a)({url:l+"/v1/manager/goods/getMainImages",method:"get",params:e,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}})},t.e=function(e){return Object(i.a)({url:l+"/v1/manager/goods/modifyMainImages",method:"post",data:s.a.stringify(e),headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}})},t.l=function(e){return Object(i.a)({url:l+"/v1/manager/goods/getGoodsSKU",method:"get",params:e,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}})},t.f=function(e){return Object(i.a)({url:l+"/v1/manager/goods/modifyGoodsSKU",method:"post",data:e})},t.h=function(e){return Object(i.a)({url:l+"/v1/manager/goods/get",method:"get",params:e,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}})};var i=a("vLgD"),o=a("mw3O"),s=a.n(o),l="http://10.1.1.24:9090"},LpTF:function(e,t){},WqZe:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("woOf"),o=a.n(i),s=a("6yp2"),l=a("X6bn"),n=a("voil"),r=a("TIfe"),c=a("u4Bf"),u={props:{itemFileArr:{type:[Array],required:!0},ids:{type:[Number],required:!0}},components:{draggable:a.n(c).a},data:function(){return{dialogImageUrl:[],uploadUrl:"https://www.xiaoxiangyoupin.com/xxyp-manager/haitao/uploadImage",uploadVisible:!1,innerVisible:!1,bigImg:""}},created:function(){this.dialogImageUrl=this.itemFileArr},computed:{uploadHeader:function(){return{Token:Object(r.c)()}}},methods:{handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){},displayBigImg:function(e){this.bigImg=e,console.log(e),this.innerVisible=!0},beforeRemove:function(e,t){return this.$confirm("确定移除 "+e.name+"？")},handleSuccess:function(e,t,a){200===e.code?this.dialogImageUrl.push(e.data):this.$message({message:e.message,type:"error"})},removeImg:function(e){this.dialogImageUrl.splice(e,1)},sureBtn:function(){var e=this,t={id:this.ids,imgUrls:this.dialogImageUrl.join(",")};Object(s.e)(t).then(function(t){"200"===t.resultCode&&(e.$message({message:"保存成功",type:"success"}),e.$emit("cance",e.uploadVisible))})},cance:function(){console.log("a"),this.$emit("cance",this.uploadVisible)}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"uploadPre"},[a("el-upload",{staticClass:"upload-demo",attrs:{action:e.uploadUrl,"on-preview":e.handlePreview,"before-remove":e.beforeRemove,multiple:"",headers:e.uploadHeader,"on-success":e.handleSuccess}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1),e._v(" "),a("div",[a("draggable",{attrs:{element:"ul"},model:{value:e.dialogImageUrl,callback:function(t){e.dialogImageUrl=t},expression:"dialogImageUrl"}},e._l(e.dialogImageUrl,function(t,i){return a("span",{key:i,staticClass:"imgSpan"},[a("img",{attrs:{src:t,alt:""},on:{click:function(a){e.displayBigImg(t)}}}),a("i",{staticClass:"el-icon-delete",on:{click:function(t){e.removeImg(i)}}})])}))],1),e._v(" "),a("span",{staticClass:"dialog-footer",staticStyle:{"text-align":"center",display:"inline-block",width:"100%","padding-top":"20px"}},[a("el-button",{attrs:{size:"small"},on:{click:e.cance}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.sureBtn}},[e._v("确 定")])],1),e._v(" "),a("el-dialog",{attrs:{"append-to-body":"",visible:e.innerVisible},on:{"update:visible":function(t){e.innerVisible=t}}},[a("img",{staticClass:"bigImg",attrs:{src:e.bigImg,alt:""}})])],1)},staticRenderFns:[]};var g=a("VU/8")(u,d,!1,function(e){a("LpTF"),a("29Dd")},"data-v-117cb140",null).exports,h={name:"previewGood",props:{lookData:{type:Object,required:!0}},computed:{skuList:function(){if(this.lookData.skuList&&this.lookData.skuList.length>0)return this.lookData.skuList[0]},pvName:function(){return this.lookData.skuList&&this.lookData.skuList.length>0?this.lookData.skuList[0].pvName:[]}}},m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"previewGoods"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("strong",{staticClass:"titleStrong"},[e._v("商品标题:")]),e._v(" "+e._s(e.lookData.goodsInfo&&e.lookData.goodsInfo.gTitle))])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("strong",{staticClass:"titleStrong"},[e._v("商品价格:")]),e._v(" "),a("span",[e._v("￥"+e._s(e.lookData.goodsInfo&&e.lookData.goodsInfo.gPrice/100))])])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("strong",{staticClass:"titleStrong"},[e._v("sku属性:")])]),e._v(" "),a("ul",{staticClass:"sku-list"},[a("li",[e._l(e.lookData.skuInfo.skuNameList,function(t){return a("div",{key:t},[e._v(e._s(t))])}),e._v(" "),a("div",[e._v("价格")]),e._v(" "),a("div",[e._v("数量")])],2),e._v(" "),e._l(e.lookData.skuInfo.skuItemlist,function(t,i){return a("li",{key:i},[e._l(t.skuValueList,function(t,i){return a("div",{key:i},[e._v(e._s(t))])}),e._v(" "),a("div",[e._v(e._s(t.skuPrice/100))]),e._v(" "),a("div",[e._v(e._s(t.ext1))])],2)})],2)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("strong",{staticClass:"titleStrong"},[e._v("商品详情图:")])]),e._v(" "),a("el-row",{attrs:{gutter:20}},e._l(e.lookData.itemFile,function(e,t){return a("el-col",{key:t,attrs:{span:12}},[a("img",{staticStyle:{"max-width":"100%"},attrs:{src:e,alt:""}})])}))],1)],1)},staticRenderFns:[]};var p=a("VU/8")(h,m,!1,function(e){a("lmhq")},"data-v-d18718d0",null).exports,f={name:"manage",mixins:[l.a],components:{Loading:n.a,upimg:g,previewgoods:p},data:function(){return{searchForm:{},supplierCode:"",supList:[],cateOpt:[],cateData:[],cateType:{label:"categoryName",value:"categoryName",children:"children"},tabledata:[],tableKey:1,headerStyle:{"text-align":"center"},showLoading:!1,status:"",statusList:[{value:2,label:"是"},{value:1,label:"否"}],isAudit:"",isAuditList:[{value:1,label:"是"},{value:0,label:"否"}],similarSearchId:"",deleteDialogVisible:!1,uploadVisible:!1,itemFile:[],idGoods:"",showNewImg:!1,previewVisible:!1,lookData:{},goodsLook:!1,skuListVisible:!1,skuObj:{}}},methods:{getSupplierAndCate:function(){var e=this;Object(s.m)({currentPage:1,pageSize:100}).then(function(t){"200"===t.resultCode&&(e.supList=t.result.data||[])}),Object(s.g)({}).then(function(t){"200"===t.resultCode&&(e.cateOpt=t.result||[])})},handleSupChange:function(e){this.supplierCode=e},handleStatusChange:function(e){this.status=e},handleIsAuditChange:function(e){this.isAudit=e},handleReset:function(){this.searchForm={},this.supplierCode="",this.cateData=[],this.status="",this.isAudit="",this.currentPage=1,this.getData()},handleSearch:function(){this.currentPage=1,this.getData()},getData:function(){var e=this;this.similarSearchId="",this.showLoading=!0;var t={currentPage:this.currentPage,pageSize:this.pageNum,category:this.cateData.length?this.cateData[this.cateData.length-1]:"",supplierCode:this.supplierCode,status:this.status,isAudit:this.isAudit};this.data=o()(t,this.searchForm),Object(s.k)(t).then(function(t){if("200"===t.resultCode){var a=t.result.data||[];a.map(function(e){return e.commissionRatio=100*e.commissionRatio,e.contractPrice=e.contractPrice?e.contractPrice/100:0,e.gPrice=e.gPrice?e.gPrice/100:0,e.freight=e.freight?e.freight/100:0,e.itemCategory=[e.gGategory1,e.gGategory2,e.gGategory3],e}),e.tabledata=a,e.totalSize=t.totalSize,e.showLoading=!1}else e.showLoading=!1}).catch(function(){e.showLoading=!1})},handleSearchSimilar:function(){this.multipleSelection.length?this.multipleSelection.length>1?this.$message({message:"只能选择一个商品"}):(this.similarSearchId=this.idsArr[0],this.currentPage=1,this.getSimilarData()):this.$message({message:"请至少选择一个商品"})},getSimilarData:function(){var e=this;this.showLoading=!0;var t={goodsId:this.similarSearchId,currentPage:this.currentPage,pageSize:this.pageNum};Object(s.q)(t).then(function(t){if("200"===t.resultCode){var a=t.result.data||[];a.map(function(e){return e.commissionRatio=100*e.commissionRatio,e.contractPrice=e.contractPrice?e.contractPrice/100:0,e.gPrice=e.gPrice?e.gPrice/100:0,e.freight=e.freight?e.freight/100:0,e.itemCategory=[e.gGategory1,e.gGategory2,e.gGategory3],e}),e.tabledata=a,e.totalSize=t.totalSize,e.showLoading=!1}else e.showLoading=!1}).catch(function(){e.showLoading=!1})},handleAuditGoods:function(e){var t=this;if(e.gTitle)if(/^(?=.{0,10}$)\d+(\.\d{1,2})?$/.test(e.gPrice))if(/^(\d{1,2}(\.\d+)?|100)$/.test(e.commissionRatio)){var a={id:e.id,commissionRatio:e.commissionRatio?e.commissionRatio/100:0,gTitle:e.gTitle,gPrice:100*e.gPrice};Object(s.a)(a).then(function(e){"200"===e.resultCode&&(t.$message({message:"审核成功",type:"success"}),t.getData())})}else this.$message({message:"请输入0-100之间的返佣比例"});else this.$message({message:"请输入最多两位小数的商品价格"});else this.$message({message:"请输入商品标题"})},handleAuditMultipleGoods:function(){var e=this;if(this.multipleSelection.length){for(var t={goodsList:[]},a=/^(\d{1,2}(\.\d+)?|100)$/,i=/^(?=.{0,10}$)\d+(\.\d{1,2})?$/,o=0,l=this.multipleSelection.length;o<l;o++){if(!this.multipleSelection[o].gTitle)return void this.$message({message:"所选商品请输入商品标题"});if(!i.test(this.multipleSelection[o].gPrice))return void this.$message({message:"所选商品请输入最多两位小数的商品价格"});if(!a.test(this.multipleSelection[o].commissionRatio))return void this.$message({message:"所选商品请输入0-100之间的返佣比例"});t.goodsList.push({id:this.multipleSelection[o].id,commissionRatio:this.multipleSelection[o].commissionRatio?this.multipleSelection[o].commissionRatio/100:0,gTitle:this.multipleSelection[o].gTitle,gPrice:100*this.multipleSelection[o].gPrice})}Object(s.b)(t).then(function(t){"200"===t.resultCode&&(e.$message({message:"批量审核成功",type:"success"}),e.getData())})}else this.$message({message:"请至少选择一个商品"})},handleOnSale:function(e){this.idsArr=[e.id],this.multipleSelection=[e],this.onSaleCallback()},handleMultipleOnSale:function(){if(this.multipleSelection.length){for(var e=0,t=this.multipleSelection.length;e<t;e++)if(!this.multipleSelection[e].isAudit)return void this.$message({message:"所选商品包含未审核商品，未审核商品不能做上架操作"});this.onSaleCallback()}else this.$message({message:"请至少选择一个商品"})},onSaleCallback:function(){var e=this,t={ids:this.idsArr.join(",")};Object(s.p)(t).then(function(t){"200"===t.resultCode&&(e.$message({message:"上架成功",type:"success"}),e.getData())})},handleDelete:function(e){2!==e.status?(this.idsArr=[e.id],this.multipleSelection=[e],this.deleteDialogVisible=!0):this.$message({message:"该商品已上架，请先下架再删除。"})},handleDeleteCancel:function(){this.idsArr=[],this.multipleSelection=[],this.deleteDialogVisible=!1},handleDeleteConfirm:function(){var e=this,t={id:this.idsArr[0]};Object(s.c)(t).then(function(t){"200"===t.resultCode&&(e.$message({message:"删除成功",type:"success"}),e.deleteDialogVisible=!1,e.getData())})},upload:function(e){var t=this;this.showLoading=!0;var a={id:e.id};Object(s.i)(a).then(function(a){"200"===a.resultCode?(t.showLoading=!1,t.itemFile=a.result,t.idGoods=e.id,t.showNewImg=!0,t.uploadVisible=!0):t.showLoading=!1}).catch(function(){t.showLoading=!1})},canceData:function(e){this.uploadVisible=e},destroyImg:function(){this.showNewImg=!1},fileData:function(e){},handleClose:function(){this.uploadVisible=!1,this.goodsLook=!1,this.previewVisible=!1},handleMatchCategory:function(e,t,a){var i=this;if(!(a.gGategory1||a.gGategory2||a.gGategory3)){this.showLoading=!0;var l={id:a.id};Object(s.n)(l).then(function(e){if("200"===e.resultCode){i.showLoading=!1;var s={gGategory1:e.result.gGategory1,gGategory2:e.result.gGategory2,gGategory3:e.result.gGategory3,itemCategory:[e.result.gGategory1,e.result.gGategory2,e.result.gGategory3]};i.tabledata[t]=o()(a,s),i.cateDataChange(s.itemCategory,a)}else i.showLoading=!1}).catch(function(){i.showLoading=!1})}},cateDataChange:function(e,t){var a=this,i={id:t.id,category1:e[0],category2:e[1],category3:e[2]};Object(s.d)(i).then(function(e){"200"===e.resultCode&&(a.deleteDialogVisible=!1)})},handleGetSku:function(e){var t=this;this.showLoading=!0;var a={id:e.id};Object(s.l)(a).then(function(e){"200"===e.resultCode?(t.showLoading=!1,t.skuObj=e.result,t.skuObj.skuItemlist.map(function(e){e.skuPrice/=100}),t.skuListVisible=!0):t.showLoading=!1}).catch(function(){t.showLoading=!1})},preview:function(e){var t=this;this.previewVisible=!0,this.goodsLook=!0;var a={id:e.id};Object(s.h)(a).then(function(e){"200"===e.resultCode&&(t.lookData=e.result,e.result.goodsInfo&&e.result.goodsInfo.gDetails&&(t.lookData.itemFile=JSON.parse(e.result.goodsInfo.gDetails).detailImg))})},closeGoodsLook:function(){this.goodsLook=!1},handleSkuEdit:function(){for(var e=this,t=/^(?=.{0,10}$)\d+(\.\d{1,2})?$/,a=[],i=0,o=this.skuObj.skuItemlist.length;i<o;i++){var l=this.skuObj.skuItemlist[i];if(!t.test(l.skuPrice))return void this.$message({message:"请输入最多两位小数的正数"});a.push({id:l.id,skuPrice:l.skuPrice*=100})}Object(s.f)(a).then(function(t){"200"===t.resultCode&&(e.$message({message:"修改成功成功",type:"success"}),e.skuListVisible=!1,e.getData())})}},created:function(){this.getSupplierAndCate(),this.getData()}},v={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"app-container"},[a("el-form",{attrs:{inline:!0,model:e.searchForm}},[a("el-form-item",{attrs:{label:"供应商"}},[a("el-select",{attrs:{placeholder:"供应商"},on:{change:e.handleSupChange},model:{value:e.supplierCode,callback:function(t){e.supplierCode=t},expression:"supplierCode"}},e._l(e.supList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"类目"}},[a("el-cascader",{attrs:{options:e.cateOpt,"show-all-levels":!1,props:e.cateType,clearable:"",placeholder:"请选择品类"},on:{change:e.cateChange},model:{value:e.cateData,callback:function(t){e.cateData=t},expression:"cateData"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品名称"}},[a("el-input",{attrs:{placeholder:"请输入商品名称"},model:{value:e.searchForm.gTitle,callback:function(t){e.$set(e.searchForm,"gTitle",t)},expression:"searchForm.gTitle"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品编号"}},[a("el-input",{attrs:{placeholder:"请输入商品名称"},model:{value:e.searchForm.goodsCode,callback:function(t){e.$set(e.searchForm,"goodsCode",t)},expression:"searchForm.goodsCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否上架"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.handleStatusChange},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},e._l(e.statusList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"是否审核"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.handleIsAuditChange},model:{value:e.isAudit,callback:function(t){e.isAudit=t},expression:"isAudit"}},e._l(e.isAuditList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"品牌"}},[a("el-input",{attrs:{placeholder:"请输入品牌名称"},model:{value:e.searchForm.gBrand,callback:function(t){e.$set(e.searchForm,"gBrand",t)},expression:"searchForm.gBrand"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"warning"},on:{click:e.handleReset}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handleSearchSimilar}},[e._v("相似查找")]),e._v(" "),a("el-button",{attrs:{type:"success"},on:{click:e.handleAuditMultipleGoods}},[e._v("批量审核")]),e._v(" "),a("el-button",{attrs:{type:"success"},on:{click:e.handleMultipleOnSale}},[e._v("上架")])],1)],1),e._v(" "),a("el-table",{key:e.tableKey,staticClass:"goods-manage-table",attrs:{data:e.tabledata,"header-cell-style":e.headerStyle,"empty-text":"暂无数据"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center",fixed:"left"}}),e._v(" "),a("el-table-column",{attrs:{label:"序号",type:"index",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goodsCode",label:"商品编号",width:"170",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"gTitle",label:"商品名称(中文)",width:"320"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"goodsName"},[a("el-input",{attrs:{placeholder:"商品中文名称",clearable:""},model:{value:t.row.gTitle,callback:function(a){e.$set(t.row,"gTitle",a)},expression:"scope.row.gTitle"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"goodsName",label:"商品名称",width:"180","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"图片",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.gImg?a("span",[a("img",{staticStyle:{height:"40px"},attrs:{src:t.row.gImg,alt:""},on:{click:function(a){e.upload(t.row)}}})]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"itemCategory",label:"类目",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-cascader",{attrs:{options:e.cateOpt,placeholder:"请选择类目","show-all-levels":!1,props:e.cateType},on:{change:function(a){e.cateDataChange(a,t.row)}},model:{value:t.row.itemCategory,callback:function(a){e.$set(t.row,"itemCategory",a)},expression:"scope.row.itemCategory"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"madeIn",label:"产地",width:"120",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"gBrand",label:"品牌",width:"180","show-overflow-tooltip":"",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"sku详情",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"medium"},on:{click:function(a){e.handleGetSku(t.row)}}},[e._v("查看")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"contractPrice",label:"价格(RMB)",width:"200",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"gPrice",width:"120",label:"商品展示价(RMB)",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"",clearable:""},model:{value:t.row.gPrice,callback:function(a){e.$set(t.row,"gPrice",a)},expression:"scope.row.gPrice"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"160",label:"返佣比例"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:t.row.commissionRatio,callback:function(a){e.$set(t.row,"commissionRatio",a)},expression:"scope.row.commissionRatio"}},[a("template",{slot:"append"},[e._v("%")])],2)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"freightFee",label:"运费(RMB)",width:"120",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"isAudit",label:"是否已审核",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.isAudit?"已审核":"未审核"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"是否已上架",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(2===t.row.status?"已上架":"未上架"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"320",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.handleAuditGoods(t.row)}}},[e._v("审核")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.preview(t.row)}}},[e._v("预览")]),e._v(" "),2!==t.row.status&&t.row.isAudit?a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.handleOnSale(t.row)}}},[e._v("上架\n        ")]):a("el-button",{attrs:{size:"mini",type:"info",disabled:""}},[e._v("上架")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-pagination",{staticClass:"pagination",attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,50,100],"page-size":e.pageNum,layout:"total, sizes, prev, pager, next, jumper",total:e.totalSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("Loading",{directives:[{name:"show",rawName:"v-show",value:e.showLoading,expression:"showLoading"}]}),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.deleteDialogVisible,top:"20vh",width:"30%"},on:{"update:visible":function(t){e.deleteDialogVisible=t}}},[a("span",[e._v("确认要删除当前数据吗？")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.handleDeleteCancel}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handleDeleteConfirm}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"图片详情",visible:e.uploadVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.uploadVisible=t},close:e.destroyImg}},[e.showNewImg?a("upimg",{attrs:{itemFileArr:e.itemFile,ids:e.idGoods},on:{model:e.fileData,cance:e.canceData}}):e._e()],1),e._v(" "),a("el-dialog",{attrs:{title:"预览",visible:e.previewVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.previewVisible=t},close:e.closeGoodsLook}},[e.goodsLook?a("previewgoods",{attrs:{lookData:e.lookData}}):e._e()],1),e._v(" "),a("el-dialog",{attrs:{title:"sku属性",visible:e.skuListVisible,width:"30%"},on:{"update:visible":function(t){e.skuListVisible=t}}},[a("ul",{staticClass:"sku-list"},[a("li",[e._l(e.skuObj.skuNameList,function(t){return a("div",{key:t},[e._v(e._s(t))])}),e._v(" "),a("div",[e._v("价格")]),e._v(" "),a("div",[e._v("数量")])],2),e._v(" "),e._l(e.skuObj.skuItemlist,function(t,i){return a("li",{key:i},[e._l(t.skuValueList,function(t,i){return a("div",{key:i},[e._v(e._s(t))])}),e._v(" "),a("div",{staticStyle:{"text-align":"left"}},[a("el-input",{attrs:{placeholder:"请输入",min:"0",clearable:""},model:{value:t.skuPrice,callback:function(a){e.$set(t,"skuPrice",a)},expression:"item.skuPrice"}})],1),e._v(" "),a("div",[e._v(e._s(t.ext1))])],2)})],2),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.skuListVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handleSkuEdit}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]};var b=a("VU/8")(f,v,!1,function(e){a("fvH9")},"data-v-94957a94",null);t.default=b.exports},X6bn:function(e,t,a){"use strict";var i={data:function(){return{currentPage:1,pageNum:20,totalSize:0,multipleSelection:[],idsArr:[]}},created:function(){},methods:{handleSizeChange:function(e){this.pageNum=e,this.getData()},handleCurrentChange:function(e){this.currentPage=e,this.similarSearchId?this.getSimilarData():this.getData()},cateChange:function(e){console.log(e)},handleSelectionChange:function(e){this.multipleSelection=e;for(var t=[],a=0;a<this.multipleSelection.length;a++)t.push(this.multipleSelection[a].id);this.idsArr=t,console.log(this.idsArr),console.log(this.multipleSelection)}}};t.a=i},fvH9:function(e,t){},lmhq:function(e,t){}});