webpackJsonp([87],{"96Ga":function(a,e){},vSiH:function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=t("mvHQ"),r=t.n(s),o=t("bQok"),i={data:function(){return{stopClick:!1,compareResult:!1,addUserDialog:!1,updatePasswordDialog:!1,updatePasswordParam:{password:"",passwordtwo:""},title:"添加账户",totalSize:0,searchParam:{account:""},addUserParam:{account:"",password:"",role_id:"",phone:"",email:"",address:"",name:"",isHaitao:"0"},dataList:[],currentPage:1,pageSize:10,formLabelWidth:"100px"}},created:function(){this.getUserList()},methods:{getUserList:function(){var a=this,e=new FormData;e.append("pageSize",a.pageSize),e.append("currentPage",a.currentPage),e.append("account",a.searchParam.account),o.a.supplierUser(e).then(function(e){a.dataList=e.result.data,a.totalSize=e.result.totalSize}).catch()},addUser:function(){this.title="添加账户",this.addUserDialog=!0},cancelAdd:function(){this.addUserDialog=!1,this.addUserParam={account:"",password:"",role_id:"",phone:"",email:"",address:""}},saveUser:function(){var a=this,e=new FormData;e.append("account",a.addUserParam.account),e.append("password",a.addUserParam.password),e.append("phone",a.addUserParam.phone),e.append("email",a.addUserParam.email),e.append("address",a.addUserParam.address),e.append("name",a.addUserParam.name),e.append("isHaitao",JSON.parse(a.addUserParam.isHaitao)),a.addUserParam.id?(e.append("id",a.addUserParam.id),o.a.editUser(e).then(function(e){a.$message({type:"success",message:e.message}),a.addUserDialog=!1,a.getUserList()}).catch()):o.a.addnewuser(e).then(function(e){a.$message({type:"success",message:e.message}),a.addUserDialog=!1,a.getUserList()}).catch()},edit:function(a){console.log(a),this.title="编辑",this.addUserParam=JSON.parse(r()(a)),this.addUserParam.isHaitao=r()(this.addUserParam.isHaitao),this.addUserDialog=!0},updatePassword:function(a){console.log(a),this.updatePasswordParam.id=a.id,this.updatePasswordDialog=!0},savePass:function(){var a=this;if(a.updatePasswordParam.password===a.updatePasswordParam.passwordtwo){var e=new FormData;e.append("password",a.updatePasswordParam.password),e.append("id",a.updatePasswordParam.id),o.a.resetPassword(e).then(function(e){a.$message({type:"success",message:e.message}),a.updatePasswordDialog=!1,a.updatePasswordParam={password:"",passwordtwo:""},a.getUserList()}).catch()}else a.$message({type:"error",message:"两次密码不一致"})},lock:function(a){var e=this,t=new FormData;t.append("id",a.id),t.append("status",1===a.status?0:1),o.a.userLocked(t).then(function(a){e.$message({type:"success",message:a.message}),e.getUserList()}).catch()},deleteUser:function(a){var e=this;e.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t=new FormData;t.append("id",a.id),o.a.userDelete(t).then(function(a){e.$message({type:"success",message:a.message}),e.getUserList()}).catch()})},handleSizeChange:function(a){this.pageSize=a,this.getUserList()},handleCurrentChange:function(a){this.currentPage=a,this.getUserList()},changePass:function(){this.updatePasswordParam.password!==this.updatePasswordParam.passwordtwo?(this.compareResult=!0,this.stopClick=!0):(this.compareResult=!1,this.stopClick=!1)}}},l={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"app-container",attrs:{id:"account-set"}},[t("section",[t("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[t("el-form-item",{attrs:{label:"用户名："}},[t("el-input",{model:{value:a.searchParam.account,callback:function(e){a.$set(a.searchParam,"account",e)},expression:"searchParam.account"}})],1),a._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:a.getUserList}},[a._v("查询")])],1),a._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:a.addUser}},[a._v("添加")])],1)],1),a._v(" "),t("el-table",{staticStyle:{width:"100%"},attrs:{data:a.dataList,border:"",align:"center"}},[t("el-table-column",{attrs:{prop:"account",align:"center",label:"用户名"}}),a._v(" "),t("el-table-column",{attrs:{prop:"name",align:"center",label:"供货商名称"}}),a._v(" "),t("el-table-column",{attrs:{prop:"name",align:"center",label:"地址"}}),a._v(" "),t("el-table-column",{attrs:{prop:"phone",align:"center",label:"电话"}}),a._v(" "),t("el-table-column",{attrs:{prop:"email",align:"center",label:"邮箱"}}),a._v(" "),t("el-table-column",{attrs:{prop:"isHaitao",align:"center",label:"是否海淘供应商"},scopedSlots:a._u([{key:"default",fn:function(e){return[t("span",[a._v(a._s(0===e.row.isHaitao?"普通":"海淘供应商"))])]}}])}),a._v(" "),t("el-table-column",{attrs:{prop:"createDate",align:"center",label:"创建时间"}}),a._v(" "),t("el-table-column",{attrs:{prop:"name",align:"center",label:"操作"},scopedSlots:a._u([{key:"default",fn:function(e){return[t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){a.edit(e.row)}}},[a._v("编辑")]),a._v(" "),1===e.row.status?t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){a.lock(e.row)}}},[a._v("锁定")]):a._e(),a._v(" "),0===e.row.status?t("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(t){a.lock(e.row)}}},[a._v("解锁")]):a._e(),a._v(" "),t("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){a.deleteUser(e.row)}}},[a._v("删除")]),a._v(" "),t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){a.updatePassword(e.row)}}},[a._v("重置密码")])]}}])})],1),a._v(" "),t("el-pagination",{staticClass:"pagination",attrs:{"current-page":a.currentPage,"page-sizes":[10,20,30,40,50],"page-size":a.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:a.totalSize},on:{"size-change":a.handleSizeChange,"current-change":a.handleCurrentChange}})],1),a._v(" "),t("el-dialog",{attrs:{title:a.title,visible:a.addUserDialog},on:{"update:visible":function(e){a.addUserDialog=e}}},[t("el-form",{attrs:{model:a.addUserParam}},[t("el-form-item",{attrs:{label:"用户名","label-width":a.formLabelWidth}},[t("el-input",{model:{value:a.addUserParam.account,callback:function(e){a.$set(a.addUserParam,"account",e)},expression:"addUserParam.account"}})],1),a._v(" "),t("el-form-item",{attrs:{label:"密码","label-width":a.formLabelWidth}},[t("el-input",{model:{value:a.addUserParam.password,callback:function(e){a.$set(a.addUserParam,"password",e)},expression:"addUserParam.password"}})],1),a._v(" "),t("el-form-item",{attrs:{label:"供货商名称","label-width":a.formLabelWidth}},[t("el-input",{model:{value:a.addUserParam.name,callback:function(e){a.$set(a.addUserParam,"name",e)},expression:"addUserParam.name"}})],1),a._v(" "),t("el-form-item",{attrs:{label:"地址","label-width":a.formLabelWidth}},[t("el-input",{model:{value:a.addUserParam.address,callback:function(e){a.$set(a.addUserParam,"address",e)},expression:"addUserParam.address"}})],1),a._v(" "),t("el-form-item",{attrs:{label:"联系电话","label-width":a.formLabelWidth}},[t("el-input",{model:{value:a.addUserParam.phone,callback:function(e){a.$set(a.addUserParam,"phone",e)},expression:"addUserParam.phone"}})],1),a._v(" "),t("el-form-item",{attrs:{label:"邮箱","label-width":a.formLabelWidth}},[t("el-input",{model:{value:a.addUserParam.email,callback:function(e){a.$set(a.addUserParam,"email",e)},expression:"addUserParam.email"}})],1),a._v(" "),t("el-form-item",{attrs:{label:"是否海淘供应商","label-width":a.formLabelWidth}},[t("el-radio",{attrs:{label:"0"},model:{value:a.addUserParam.isHaitao,callback:function(e){a.$set(a.addUserParam,"isHaitao",e)},expression:"addUserParam.isHaitao"}},[a._v("普通")]),a._v(" "),t("el-radio",{attrs:{label:"1"},model:{value:a.addUserParam.isHaitao,callback:function(e){a.$set(a.addUserParam,"isHaitao",e)},expression:"addUserParam.isHaitao"}},[a._v("海淘")])],1)],1),a._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:a.cancelAdd}},[a._v("取 消")]),a._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:a.saveUser}},[a._v("确 定")])],1)],1),a._v(" "),t("el-dialog",{attrs:{title:"修改密码",visible:a.updatePasswordDialog},on:{"update:visible":function(e){a.updatePasswordDialog=e}}},[t("el-form",{attrs:{model:a.updatePasswordParam}},[t("el-form-item",{attrs:{label:"新设密码","label-width":a.formLabelWidth}},[t("el-input",{attrs:{type:"password"},model:{value:a.updatePasswordParam.password,callback:function(e){a.$set(a.updatePasswordParam,"password",e)},expression:"updatePasswordParam.password"}})],1),a._v(" "),t("el-form-item",{attrs:{label:"重复密码","label-width":a.formLabelWidth}},[t("el-input",{attrs:{type:"password"},model:{value:a.updatePasswordParam.passwordtwo,callback:function(e){a.$set(a.updatePasswordParam,"passwordtwo",e)},expression:"updatePasswordParam.passwordtwo"}})],1)],1),a._v(" "),a.compareResult?t("p",[a._v("两次密码不一致！！")]):a._e(),a._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:a.cancelAdd}},[a._v("取 消")]),a._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:a.savePass}},[a._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var d=t("VU/8")(i,l,!1,function(a){t("96Ga")},null,null);e.default=d.exports}});