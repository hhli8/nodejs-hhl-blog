webpackJsonp([84],{P0mD:function(a,t){},SBTD:function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("woOf"),s=e.n(r),n=e("sVqv"),l={name:"awardInquiry",data:function(){return{awardData:{userId:"",nickname:"",status:"",pageNum:10,currentPage:1,totalSize:0,lists:[]},awardStatus:"状态",awardStatusArr:[{label:"状态",value:""},{label:"已兑奖",value:1},{label:"未兑奖",value:0}],awardLayerList:{show:!1},count:0}},computed:{},methods:{changeVal:function(a){this.awardData.status=a},onSearchAwardList:function(){var a=this;this.getAwardList().then(function(){a.alertMessage("查询成功")})},getAwardList:function(){var a=this;return this.awardData.lists&&delete this.awardData.lists,Object(n.q)(this.awardData).then(function(t){return a.awardData.lists=t.dataList,a.awardData.totalSize=t.totalSize,a.count++,a.awardData.lists}).catch(function(t){a.$message.error(t)})},alertMessage:function(a){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";this.$message({type:t,message:a})},indexMethod:function(a){return a+1+(this.awardData.currentPage-1)*this.awardData.pageNum},awardListSizeChange:function(a){console.log("pageNum"),console.log(a),this.awardData.pageNum=a,this.getAwardList()},currentAwardListChange:function(a){console.log("currentPage"),console.log(a),this.awardData.currentPage=a,this.getAwardList()},awardLayerListTitle:function(){return 1===this.awardLayerList.status?"兑奖明细":0===this.awardLayerList.status?"确认兑奖":""},recordTypeJudge:function(){return 1===this.awardLayerList.type?"订单号":2===this.awardLayerList.type?"支付宝/微信账号":"用户收货地址"},onAward:function(a){this.awardLayerList=s()(this.awardLayerList,a),this.awardLayerList.show=!0},onConfirmAward:function(){var a=this;this.awardLayerList.status=1,Object(n.f)(this.awardLayerList).then(function(){a.awardLayerList.show=!1,a.alertMessage("兑奖状态已确认"),a.getAwardList()}).catch(function(t){a.$message.error(t)})}},created:function(){this.getAwardList()}},i={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"awardInquiry app-container"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:4}},[e("el-input",{attrs:{placeholder:"用户id"},model:{value:a.awardData.userId,callback:function(t){a.$set(a.awardData,"userId",t)},expression:"awardData.userId"}})],1),a._v(" "),e("el-col",{attrs:{span:4}},[e("el-input",{attrs:{placeholder:"微博昵称"},model:{value:a.awardData.nickname,callback:function(t){a.$set(a.awardData,"nickname",t)},expression:"awardData.nickname"}})],1),a._v(" "),e("el-col",{attrs:{span:4}},[e("el-select",{on:{change:a.changeVal},model:{value:a.awardStatus,callback:function(t){a.awardStatus=t},expression:"awardStatus"}},a._l(a.awardStatusArr,function(a){return e("el-option",{key:a.label,attrs:{label:a.label,value:a.value}})}))],1),a._v(" "),e("el-col",{attrs:{span:2}},[e("el-button",{attrs:{type:"primary"},on:{click:a.onSearchAwardList}},[a._v("查询")])],1)],1),a._v(" "),e("div",{staticClass:"table-main"},[e("el-table",{key:a.count,attrs:{data:a.awardData.lists}},[e("el-table-column",{attrs:{align:"center",label:"编号",width:"80",type:"index",index:a.indexMethod}}),a._v(" "),e("el-table-column",{attrs:{prop:"userId",align:"center",label:"用户id"}}),a._v(" "),e("el-table-column",{attrs:{prop:"nickname",align:"center",label:"微博昵称"}}),a._v(" "),e("el-table-column",{attrs:{prop:"phone",align:"center",label:"联系方式"}}),a._v(" "),e("el-table-column",{attrs:{prop:"status",align:"center",label:"状态"}}),a._v(" "),e("el-table-column",{attrs:{prop:"weiboUrl",align:"center",label:"微博地址"}}),a._v(" "),e("el-table-column",{attrs:{prop:"name",align:"center",label:"参与话题"}}),a._v(" "),e("el-table-column",{attrs:{prop:"serialNumber",align:"center",label:"中奖序号"}}),a._v(" "),e("el-table-column",{attrs:{prop:"createTime",align:"center",label:"中奖时间"}}),a._v(" "),e("el-table-column",{attrs:{prop:"serialComment",align:"center",label:"中奖内容"}}),a._v(" "),e("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:a._u([{key:"default",fn:function(t){return[e("el-button",{on:{click:function(e){a.onAward(t.row)}}},[a._v("\n            "+a._s(1===t.row.status?"兑奖明细":"兑奖")+"\n          ")])]}}])})],1)],1),a._v(" "),e("el-pagination",{staticClass:"pagination",attrs:{"current-page":a.awardData.currentPage,"page-sizes":[10,20,30,40],"page-size":a.awardData.pageNum,layout:"total, sizes, prev, pager, next, jumper",total:a.awardData.totalSize},on:{"size-change":a.awardListSizeChange,"current-change":a.currentAwardListChange}}),a._v(" "),e("el-dialog",{attrs:{title:a.awardLayerListTitle(),visible:a.awardLayerList.show},on:{"update:visible":function(t){a.$set(a.awardLayerList,"show",t)}}},[e("div",{staticClass:"awardContent"},[e("label",{staticClass:"fixWidth"},[a._v("兑奖内容：")]),a._v(a._s(a.awardLayerList.serialComment)+"\n    ")]),a._v(" "),0===a.awardLayerList.status?e("el-form",{attrs:{model:a.awardLayerList,"label-width":"118px"}},[e("el-form-item",{attrs:{label:a.recordTypeJudge()}},[e("el-input",{model:{value:a.awardLayerList.recordInfo,callback:function(t){a.$set(a.awardLayerList,"recordInfo",t)},expression:"awardLayerList.recordInfo"}})],1),a._v(" "),3===a.awardLayerList.type?e("el-form-item",{attrs:{label:"收货人"}},[e("el-input",{model:{value:a.awardLayerList.addresseeName,callback:function(t){a.$set(a.awardLayerList,"addresseeName",t)},expression:"awardLayerList.addresseeName"}})],1):a._e(),a._v(" "),3===a.awardLayerList.type?e("el-form-item",{attrs:{label:"联系电话"}},[e("el-input",{model:{value:a.awardLayerList.phone,callback:function(t){a.$set(a.awardLayerList,"phone",t)},expression:"awardLayerList.phone"}})],1):a._e(),a._v(" "),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:a.onConfirmAward}},[a._v("确认兑奖")]),a._v(" "),e("el-button",{on:{click:function(t){a.awardLayerList.show=!1}}},[a._v("取消")])],1)],1):e("div",[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:24}},[e("label",{staticClass:"fixWidth"},[a._v(a._s(a.recordTypeJudge())+"：")]),a._v(a._s(a.awardLayerList.recordInfo)+"\n        ")])],1),a._v(" "),3===a.awardLayerList.type?e("div",[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:24}},[e("label",{staticClass:"fixWidth"},[a._v("收货人：")]),a._v(a._s(a.awardLayerList.addresseeName)+"\n          ")])],1),a._v(" "),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:24}},[e("label",{staticClass:"fixWidth"},[a._v("联系电话：")]),a._v(a._s(a.awardLayerList.phone)+"\n          ")])],1)],1):a._e()],1)],1)],1)},staticRenderFns:[]};var o=e("VU/8")(l,i,!1,function(a){e("P0mD")},"data-v-1ebcd136",null);t.default=o.exports}});