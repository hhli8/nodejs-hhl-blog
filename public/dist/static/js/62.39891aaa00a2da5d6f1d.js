webpackJsonp([62],{BSW8:function(e,t){},Ohoo:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("Xxa5"),o=r.n(a),l=r("exGp"),n=r.n(l),i=r("+ThO"),s=r("fVWS"),c=r("LI1f"),u={name:"order-wait-deliver-goods",data:function(){return{total:0,formInline:{},afterSalesStatus:s.a,reconciliaStatus:s.c,orderStatus:s.b,orderList:[],supplierList:[],deliveGoodsDialogVisible:!1,orderCancelVisible:!1}},components:{pagination:i.a},mounted:function(){this.getSupplierList(),this.getList(1)},methods:{setOrderStatus:function(e,t){var r=this;return n()(o.a.mark(function a(){var l;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return l=!0,console.log(t),4===t&&(l=1!==e.isFreeze),a.next=5,Object(c.d)({remitCode:"test",orderCodeList:e.orderCode,isTrue:l,handleInstruct:t});case 5:r.getList(r.pageNum);case 6:case"end":return a.stop()}},a,r)}))()},getSupplierList:function(){var e=this;return n()(o.a.mark(function t(){var r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(c.c)({});case 2:r=t.sent,e.supplierList=r.result.data;case 4:case"end":return t.stop()}},t,e)}))()},getList:function(e){var t=this;return n()(o.a.mark(function r(){var a;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t.timeFilter([{key:"creatOrderTime",formKey:["creatOrderStartTime","creatOrderEndTime"]},{key:"deliveryTime",formKey:["deliveryStartTime","deliveryEndTime"]},{key:"signforTime",formKey:["signforStartTime","signforEndTime"]}]),r.next=3,Object(c.e)({page:e,data:t.formInline,pagesizi:t.pagesizi});case 3:a=r.sent,t.pageNum=a.result.pageNum,t.total=a.result.total,t.orderList=a.result.billDetailDtoList;case 7:case"end":return r.stop()}},r,t)}))()},timeFilter:function(e){var t=this;e.forEach(function(e){t.formInline[e.key]&&(t.formInline[e.formKey[0]]=t.formInline[e.key][0],t.formInline[e.formKey[1]]=t.formInline[e.key][1])})},formInit:function(){this.formInline={}},isKaipiao:function(e){return 2===e.reconciliaStatus&&0===e.invoiceStatus&&1===e.paidStatus},isOrderClear:function(e){return 0===e.reconciliaStatus&&1!==e.isFreeze},isXianXiaOrderClear:function(e){return 1===e.isUnderLine&&1!==e.isFreeze&&2!==e.reconciliaStatus},isPayMoney:function(e){return 2===e.reconciliaStatus&&0===e.paidStatus},getOrderStatusText:function(e){for(var t in this.orderStatus)if(e.orderStatus===this.orderStatus[t].key)return this.orderStatus[t].name},getAfterSaleStatusText:function(e){for(var t in this.afterSalesStatus)if(e.afterSaleStatus===this.afterSalesStatus[t].key)return this.afterSalesStatus[t].name},handleSeleChange:function(e){this.seleOrderCode=e.map(function(e){return e.orderCode})},handleCurrentChange:function(e){this.pageNum=e,this.getList(this.pageNum)},handleSizeChange:function(e){this.pagesize=e,this.getList(this.pageNum)},showDeliveGoodsAlert:function(){this.deliveGoodsDialogVisible=!0}}},d={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"order-wait-receiving bg-fff pd-15"},[r("el-form",{attrs:{inline:!0,model:e.formInline}},[r("el-form-item",{attrs:{label:"注册手机"}},[r("el-input",{attrs:{placeholder:"注册手机"},model:{value:e.formInline.creatOrderPhone,callback:function(t){e.$set(e.formInline,"creatOrderPhone",t)},expression:"formInline.creatOrderPhone"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"商品编号"}},[r("el-input",{attrs:{placeholder:"收货人"},model:{value:e.formInline.goodsCode,callback:function(t){e.$set(e.formInline,"goodsCode",t)},expression:"formInline.goodsCode"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"订单编号"}},[r("el-input",{attrs:{placeholder:"订单编号"},model:{value:e.formInline.orderCode,callback:function(t){e.$set(e.formInline,"orderCode",t)},expression:"formInline.orderCode"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"订单状态"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formInline.orderStatus,callback:function(t){e.$set(e.formInline,"orderStatus",t)},expression:"formInline.orderStatus"}},e._l(e.orderStatus,function(e){return r("el-option",{key:e.key,attrs:{label:e.name,value:e.key}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"售后状态"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formInline.afterSaleStatus,callback:function(t){e.$set(e.formInline,"afterSaleStatus",t)},expression:"formInline.afterSaleStatus"}},e._l(e.afterSalesStatus,function(e){return r("el-option",{key:e.key,attrs:{label:e.name,value:e.key}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"供货商"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formInline.supplierCode,callback:function(t){e.$set(e.formInline,"supplierCode",t)},expression:"formInline.supplierCode"}},e._l(e.supplierList,function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"对账状态"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formInline.reconciliaStatus,callback:function(t){e.$set(e.formInline,"reconciliaStatus",t)},expression:"formInline.reconciliaStatus"}},e._l(e.reconciliaStatus,function(e){return r("el-option",{key:e.key,attrs:{label:e.name,value:e.key}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"冻结状态"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formInline.freezeStatus,callback:function(t){e.$set(e.formInline,"freezeStatus",t)},expression:"formInline.freezeStatus"}},[r("el-option",{attrs:{label:"是",value:"1"}}),e._v(" "),r("el-option",{attrs:{label:"否",value:"0"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"下单时间"}},[r("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.formInline.creatOrderTime,callback:function(t){e.$set(e.formInline,"creatOrderTime",t)},expression:"formInline.creatOrderTime"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"发货时间"}},[r("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.formInline.deliveryTime,callback:function(t){e.$set(e.formInline,"deliveryTime",t)},expression:"formInline.deliveryTime"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"签收时间"}},[r("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.formInline.signforTime,callback:function(t){e.$set(e.formInline,"signforTime",t)},expression:"formInline.signforTime"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"是否结算"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formInline.paidStatus,callback:function(t){e.$set(e.formInline,"paidStatus",t)},expression:"formInline.paidStatus"}},[r("el-option",{attrs:{label:"是",value:"1"}}),e._v(" "),r("el-option",{attrs:{label:"否",value:"0"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"是否开票"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formInline.invoiceStatus,callback:function(t){e.$set(e.formInline,"invoiceStatus",t)},expression:"formInline.invoiceStatus"}},[r("el-option",{attrs:{label:"是",value:"1"}}),e._v(" "),r("el-option",{attrs:{label:"否",value:"0"}})],1)],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.getList(1)}}},[e._v("搜索")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.formInit}},[e._v("重置")]),e._v(" "),r("el-button",{attrs:{type:"primary"}},[e._v("导出")])],1)],1),e._v(" "),r("div",{staticClass:"button-group fr"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.setOrderStatus(e.scope.row,0)}}},[e._v("批量开票")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.setOrderStatus(e.scope.row,1)}}},[e._v("批量对账")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.setOrderStatus(e.scope.row,2)}}},[e._v("橙子批量对账")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.setOrderStatus(e.scope.row,3)}}},[e._v("批量打款")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.setOrderStatus(e.scope.row,4)}}},[e._v("批量冻结")])],1),e._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.orderList,border:""},on:{"selection-change":e.handleSeleChange}},[r("el-table-column",{attrs:{type:"selection",width:"55",fixed:"left"}}),e._v(" "),r("el-table-column",{attrs:{prop:"orderCode",label:"订单编号",width:"200"}}),e._v(" "),r("el-table-column",{attrs:{prop:"goodsCode",label:"商品编号"}}),e._v(" "),r("el-table-column",{attrs:{prop:"supplierName",label:"供货商"}}),e._v(" "),r("el-table-column",{attrs:{prop:"goodsName",label:"商品名称"}}),e._v(" "),r("el-table-column",{attrs:{prop:"contractPrice",label:"采购价"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("p",[e._v(e._s(e._f("priceFilter")(t.row.goodsPrice)))])]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"goodsPrice",label:"系统定价"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("p",[e._v(e._s(e._f("priceFilter")(t.row.goodsPrice)))])]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"buySum",label:"数量"}}),e._v(" "),r("el-table-column",{attrs:{prop:"contractAllMoney",label:"采购金额"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("p",[e._v(e._s(e._f("priceFilter")(t.row.goodsPrice)))])]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"orderMoney",label:"订单金额"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("p",[e._v(e._s(e._f("priceFilter")(t.row.goodsPrice)))])]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"creatOrderTime",label:"下单时间",width:"200"}}),e._v(" "),r("el-table-column",{attrs:{prop:"deliveryTime",label:"发货时间",width:"200"}}),e._v(" "),r("el-table-column",{attrs:{prop:"goodsCode",label:"签收时间"}}),e._v(" "),r("el-table-column",{attrs:{prop:"orderStatus",label:"订单状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(e.getOrderStatusText(t.row)))])]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"afterSaleStatus",label:"售后状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(e.getAfterSaleStatusText(t.row)))])]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"paidStatus",label:"是否结算"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(1===t.row.paidStatus?"已结算":"未结算"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"invoiceStatus",label:"是否开票"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(1===t.row.invoiceStatus?"已开票":"未开票"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"reconciliaStatus",label:"对账状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",{directives:[{name:"show",rawName:"v-show",value:0===t.row.reconciliaStatus,expression:"scope.row.reconciliaStatus === 0"}]},[e._v("未对账")]),e._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:1===t.row.reconciliaStatus,expression:"scope.row.reconciliaStatus === 1"}]},[e._v("对账中")]),e._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:2===t.row.reconciliaStatus,expression:"scope.row.reconciliaStatus === 2"}]},[e._v("已对账")]),e._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:3===t.row.reconciliaStatus,expression:"scope.row.reconciliaStatus === 3"}]},[e._v("对账差异")])]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"isFreeze",label:"冻结状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(1===t.row.isFreeze?"冻结":"未冻结"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"remitCode",label:"打款操作账号"}}),e._v(" "),r("el-table-column",{attrs:{prop:"creatOrderTime",label:"操作",fixed:"right",width:"400"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini",type:e.isKaipiao(t.row)?"primary":"info",disabled:!e.isKaipiao(t.row)},on:{click:function(r){e.setOrderStatus(t.row,0)}}},[e._v("开票\n\t\t\t\t")]),e._v(" "),r("el-button",{attrs:{size:"mini",type:e.isOrderClear(t.row)?"primary":"info",disabled:!e.isOrderClear(t.row)},on:{click:function(r){e.setOrderStatus(t.row,1)}}},[e._v("对账\n\t\t\t\t")]),e._v(" "),r("el-button",{attrs:{size:"mini",type:e.isXianXiaOrderClear(t.row)?"primary":"info",disabled:!e.isXianXiaOrderClear(t.row)},on:{click:function(r){e.setOrderStatus(t.row,2)}}},[e._v("橙子对账\n\t\t\t\t")]),e._v(" "),r("el-button",{attrs:{size:"mini",disabled:!e.isPayMoney(t.row),type:e.isPayMoney(t.row)?"primary":"info"},on:{click:function(r){e.setOrderStatus(t.row,3)}}},[e._v("打款\n\t\t\t\t")]),e._v(" "),r("el-button",{attrs:{size:"mini"},on:{click:function(r){e.setOrderStatus(t.row,4)}}},[e._v(e._s(1===t.row.isFreeze?"解冻":"冻结"))])]}}])})],1),e._v(" "),r("div",{staticClass:"tc pagination-box"},[r("pagination",{attrs:{total:e.total},on:{handleCurrentChange:e.handleCurrentChange,handleSizeChange:e.handleSizeChange}})],1)],1)},staticRenderFns:[]};var p=r("VU/8")(u,d,!1,function(e){r("BSW8")},"data-v-62a269c8",null);t.default=p.exports}});