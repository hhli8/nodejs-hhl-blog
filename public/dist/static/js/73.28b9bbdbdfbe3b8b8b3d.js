webpackJsonp([73],{JaQ3:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t("Xxa5"),n=t.n(r),l=t("exGp"),o=t.n(l),i=t("Dd8w"),s=t.n(i),u=t("uZFL"),c=t("NYxO"),p=t("PJh5"),m=t.n(p),f=t("voil"),d={name:"OrderManage",data:function(){return{formValue:{rebateRate:null,rebateUpdateTime:null,updateUser:null,pageNum:1,pageSize:10},pageTotal:null,reBateData:null,showLoading:!1}},created:function(){this.fetchData()},computed:s()({},Object(c.b)(["name","userName"])),methods:{fetchData:function(){var e=this;return o()(n.a.mark(function a(){var t,r,l,o;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:for(l in t={},r=e.formValue)null!==r[l]&&(/rebateUpdateTime/.test(l)?t[l]=m()(r[l]).format("YYYY-MM-DD HH:mm:ss"):t[l]=r[l]);return o=void 0,e.showLoading=!0,a.prev=5,a.next=8,Object(u.a)(t);case 8:o=a.sent,e.pageTotal=o.totalPage,e.formValue.pageNum=o.currentPage,e.formValue.pageSize=o.pageSize>0?o.pageSize:10,e.reBateData=o.dataList,a.next=17;break;case 15:a.prev=15,a.t0=a.catch(5);case 17:e.showLoading=!1;case 18:case"end":return a.stop()}},a,e,[[5,15]])}))()},resetForm:function(){var e=this.formValue;for(var a in e)"pageNum"!==a&&"pageSize"!==a&&(e[a]=null)},handlerRebateRouter:function(){},currentPageHandler:function(e){this.formValue.pageNum=e,this.fetchData()},pageSizeHandler:function(e){this.formValue.pageSize=e,this.fetchData()},configCurrRebate:function(){var e=this;return o()(n.a.mark(function a(){var t;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.$prompt("",{confirmButtonText:"确定",inputPlaceholder:"请输入当前返利配置",cancelButtonText:"取消",type:"info"});case 2:return t=a.sent,a.next=5,Object(u.a)({updateUser:e.userName,rebateRate:t.value,rebateUpdateTime:m()(Date.now()).format("YYYY-MM-DD HH:mm:ss")});case 5:return e.formValue.pageNum=1,a.next=8,e.fetchData();case 8:e.$alert("修改成功");case 9:case"end":return a.stop()}},a,e)}))()}},filters:{earningTimeFilter:function(e,a){for(var t=0,r=a.length;t<r;t++)if(a[t].value===e)return a[t].text}},components:{Loading:f.a}},v={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("el-row",[t("el-col",{attrs:{span:4}},[t("el-input",{attrs:{placeholder:"用户的返利比例"},model:{value:e.formValue.rebateRate,callback:function(a){e.$set(e.formValue,"rebateRate",a)},expression:"formValue.rebateRate"}})],1),e._v(" "),t("el-col",{attrs:{span:4}},[t("el-date-picker",{attrs:{type:"datetime","value-format":"timestamp",placeholder:"返利比例配置时间"},model:{value:e.formValue.rebateUpdateTime,callback:function(a){e.$set(e.formValue,"rebateUpdateTime",a)},expression:"formValue.rebateUpdateTime"}})],1),e._v(" "),t("el-col",{attrs:{span:4}},[t("el-input",{attrs:{placeholder:"修改人"},model:{value:e.formValue.updateUser,callback:function(a){e.$set(e.formValue,"updateUser",a)},expression:"formValue.updateUser"}})],1),e._v(" "),t("el-col",{attrs:{span:6}},[t("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.fetchData}},[e._v("查询")]),e._v(" "),t("el-button",{on:{click:e.resetForm}},[e._v("重置")])],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:24}},[t("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.configCurrRebate}},[e._v("修改当前返利配置")])],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:24}},[t("el-alert",{attrs:{title:"当前返利配置",type:"info",description:"下列表格第一项为当前返利配置","show-icon":""}})],1)],1),e._v(" "),t("el-row",[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.reBateData,border:"","header-cell-class-name":"center","cell-class-name":"center"}},[t("el-table-column",{attrs:{label:"id",prop:"id"}}),e._v(" "),t("el-table-column",{attrs:{label:"用户的返利比例",prop:"userRebateRate"}}),e._v(" "),t("el-table-column",{attrs:{label:"返利比例配置时间",prop:"rebateUpdateTime"}}),e._v(" "),t("el-table-column",{attrs:{label:"修改人",prop:"updateUser"}})],1)],1),e._v(" "),t("div",{staticClass:"pagination-container"},[t("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.pageTotal,"current-page":e.formValue.pageNum,"page-size":e.formValue.pageSize},on:{"current-change":e.currentPageHandler,"size-change":e.pageSizeHandler}})],1),e._v(" "),t("Loading",{directives:[{name:"show",rawName:"v-show",value:e.showLoading,expression:"showLoading"}]})],1)},staticRenderFns:[]};var g=t("VU/8")(d,v,!1,function(e){t("MluC")},"data-v-3b801853",null);a.default=g.exports},MluC:function(e,a){}});