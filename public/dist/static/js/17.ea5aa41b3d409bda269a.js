webpackJsonp([17],{"0Dft":function(t,e){},N3ZX:function(t,e,a){"use strict";e.e=function(t){return Object(n.a)({url:"/live/search/key/querySks",method:"post",data:t})},e.g=function(t){return Object(n.a)({url:"/live/search/key/updateSkConfig",method:"post",data:t})},e.a=function(t){return Object(n.a)({url:"/live/search/key/addSkConfig",method:"post",data:t})},e.d=function(t){return Object(n.a)({url:"/live/banner/getBannerTypeList",method:"post",params:t})},e.c=function(t){return Object(n.a)({url:"/live/banner/getBannerList",method:"post",data:t})},e.f=function(t){return Object(n.a)({url:"/live/banner/saveBanner",method:"post",data:t})},e.b=function(t){return Object(n.a)({url:"/live/banner/deleteBanner",method:"post",params:t})},e.i=function(t){return Object(n.a)({url:"/live/banner/updateStatus",method:"post",params:t})},e.h=function(t){return Object(n.a)({url:"/live/banner/updateBannerIndex",method:"post",data:t})};var n=a("vLgD")},aaRL:function(t,e){},"p/Ay":function(t,e){},sbde:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("woOf"),o=a.n(n),s=a("N3ZX"),r={name:"banner",components:{},data:function(){return{shelvesArr:[{value:"电影票搜索页",num:1}],tabledata:[{}],tabledata1:[{}],shelvesData:"电影票搜索页",radio:"F",radio1:"F",bannerIndexArr:[1,2,3],bannerIndexArr1:[1],totalSize1:0,totalSize:0,currentPage1:1,currentPage:1,pagesize:20,pagesize1:20}},created:function(){this.searchLook(),this.typeData()},watch:{radio:function(){this.searchLook()},radio1:function(t){this.typeData()}},methods:{getSortSelectLength:function(t,e){for(var a=[],n=1;n<t+1;n++)a.push(n);return a},handleSizeChange:function(t){this.pagesize=t,this.searchLook()},handleSizeChange1:function(t){this.pagesize1=t,this.typeData()},handleCurrentChange:function(t){this.currentPage=t,this.searchLook()},handleCurrentChange1:function(t){this.currentPage1=t,this.typeData()},getData:function(t,e,a,n,o){var r="type=1&pageNum="+n+"&pageSize="+o;Object(s.e)(r).then(function(t){e(t)})},searchLook:function(){var t=this;this.getData("FOUND",function(e){t.tabledata=e.dataList.reverse(),t.totalSize=t.tabledata.length},this.radio,this.currentPage,this.pagesize)},btnType:function(t){var e="success";return 1===t?e="warning":0===t&&(e="success"),e},typeData:function(){var t=this;this.getData("COMMON",function(e){t.tabledata1=e.dataList.reverse(),t.totalSize1=t.tabledata1.length},this.radio1,this.currentPage1,this.pagesize1)},demove:function(t,e,a){var n=this;this.$confirm("你确定要删除当前数据吗？","确认信息",{distinguishCancelAndClose:!0,confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){n.row=e,n.type=a,n.deleteConfirm()}).catch(function(t){n.deleteCancel(t)})},deleteConfirm:function(){var t=this;this.row.status=-1,Object(s.g)(this.row).then(function(){t.blockUpdate(t.type,"删除成功")})},deleteCancel:function(t){this.$message({type:"info",message:"取消删除"})},save:function(t,e,a){""!==e.sk.trim()?e.skId?this.modify(e,a):(this.type=a,this.row=e,this.newSave()):this.alertMessage("warning","关键词不能为空")},newSave:function(){var t=this;this.addDataPosition(this.type,this.row),o()(this.row,{scope:"INDEX"}),Object(s.a)(this.row).then(function(){t.blockUpdate(t.type,"新增成功")})},blockUpdate:function(t,e){1===t?this.searchLook():this.typeData(),this.alertMessage("success",e)},alertMessage:function(t,e){this.$message({type:t,message:e})},modify:function(t,e){var a=this;Object(s.g)(t).then(function(t){a.blockUpdate(e,"更新成功")})},toggleStatus:function(t,e,a){var n=this;1===e.status?e.status=0:0===e.status&&(e.status=1),Object(s.g)(e).then(function(){n.blockUpdate(a,"状态修改成功")})},addData:function(t,e){t.splice(0,0,{sk:"",fontColor:"FONT_DEFAULT",bgColor:e,sort:1,type:1})},addDataPosition:function(t,e){1===t?o()(e,{area:"FOUND",version:this.radio}):o()(e,{area:"COMMON",version:this.radio1})}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search-wrapper"},[a("div",{staticClass:"header",staticStyle:{"margin-bottom":"0"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",{staticClass:"mr"},[t._v("搜索-热门搜索")])])])],1)],1),t._v(" "),a("div",{staticClass:"header"},[a("el-row",{attrs:{gutter:20,type:"flex",align:"middle"}},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("\n\t\t\t\t\t\t位置名称：\n\t\t\t\t\t\t"),a("el-select",{model:{value:t.shelvesData,callback:function(e){t.shelvesData=e},expression:"shelvesData"}},t._l(t.shelvesArr,function(t){return a("el-option",{key:t.num,attrs:{label:t.value,value:t.value}})}))],1)]),t._v(" "),a("el-col",{staticClass:"rg",attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple btn-right"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(e){t.addData(t.tabledata,"BACKGROUND_DEFAULT")}}},[t._v("新增")]),t._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:function(e){t.searchLook()}}},[t._v("刷新")])],1)])],1),t._v(" "),a("div",{staticClass:"lineW"}),t._v(" "),a("el-table",{staticClass:"lists",staticStyle:{width:"100%"},attrs:{border:"",data:t.tabledata,"empty-text":"暂无数据"}},[a("el-table-column",{attrs:{label:"序号",type:"index",width:"55",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sk",label:"*关键词",width:"260"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:"*关键词",clearable:""},model:{value:e.row.sk,callback:function(a){t.$set(e.row,"sk",a)},expression:"scope.row.sk"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"字体颜色",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-radio",{attrs:{label:"FONT_RED"},model:{value:e.row.fontColor,callback:function(a){t.$set(e.row,"fontColor",a)},expression:"scope.row.fontColor"}},[t._v("红色")]),t._v(" "),a("el-radio",{attrs:{label:"FONT_DEFAULT"},model:{value:e.row.fontColor,callback:function(a){t.$set(e.row,"fontColor",a)},expression:"scope.row.fontColor"}},[t._v("默认")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"背景色",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-radio",{attrs:{label:"BACKGROUND_DEFAULT"},model:{value:e.row.bgColor,callback:function(a){t.$set(e.row,"bgColor",a)},expression:"scope.row.bgColor"}},[t._v("默认")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"排列顺序",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{model:{value:e.row.sort,callback:function(a){t.$set(e.row,"sort",a)},expression:"scope.row.sort"}},t._l(t.getSortSelectLength(t.tabledata.length,t.bannerIndexArr),function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}))]}}])},[t._v("*\n\t\t\t\t\t")]),t._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"250",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){t.save(e.$index,e.row,1)}}},[t._v("保存")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:t.btnType(e.row.status)},on:{click:function(a){t.toggleStatus(e.$index,e.row,1)}}},[t._v(t._s(1===e.row.status?"停用":"启用")+"\n\t\t\t\t\t\t")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.demove(e.$index,e.row,1)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-sizes":[20,30,40,50],"page-size":t.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.totalSize},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)])},staticRenderFns:[]};var l=a("VU/8")(r,i,!1,function(t){a("aaRL"),a("0Dft"),a("p/Ay")},"data-v-6bfcbdb8",null);e.default=l.exports}});