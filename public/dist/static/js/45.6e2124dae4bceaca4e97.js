webpackJsonp([45],{"+BAP":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("woOf"),r=a.n(l),n=a("Xxa5"),o=a.n(n),i=a("exGp"),s=a.n(i),c=a("XpEf"),d={name:"",components:{uploadImgOnly:a("ypB/").a},props:{},data:function(){return{tabActiveName:"brand",pageSize:20,brandCurrentPage:1,brandTotalSize:1,addressCurrentPage:1,addressTotalSize:1,movieCurrentPage:1,movieTotalSize:1,iconUploadUrl:"http://localhost:8088/vain/api/upload/uploadPic",brandList:[],addressList:[],movieList:[],tableDataLoading:!1,defaultSetDialogVisible:!1,dialogVisible:!1,defaultSetformLabelAlign:{defLogo:"",defBackUrl:""},formLabelAlign:{},brandSearchData:{name:"",status:""},addressSearchData:{name:"",city:"",hot:"",type:"",status:""},movieSearchData:{name:"",hot:"",status:""},cateGorySelect:[{value:1,label:"餐饮"},{value:2,label:"景点"},{value:3,label:"普通"}],hotSelect:[{value:1,label:"热门"},{value:-1,label:"非热门"}],defSelect:[{value:1,label:"默认"},{value:-1,label:"非默认"}],statusSelect:[{value:1,label:"启用"},{value:-1,label:"停用"}],brandEditrules:{desc:[{required:!0,message:"请输入简介",trigger:"blur"}],name:[{required:!0,message:"请输入品牌名称",trigger:"blur"}]},addressEditrules:{name:[{required:!0,message:"请输入地点名称",trigger:"blur"}],type:[{required:!0,message:"请选择类型",trigger:"blur"}],city:[{required:!0,message:"请输入城市",trigger:"blur"}],lon:[{required:!0,message:"请输入经度",trigger:"blur"}],lat:[{required:!0,message:"请输入纬度",trigger:"blur"}]},movieEditrules:{name:[{required:!0,message:"请输入影视名称",trigger:"blur"}],desc:[{required:!0,message:"请输入简介",trigger:"blur"}],place:[{required:!0,message:"请输入国家",trigger:"blur"}],labelContent:[{required:!0,message:"请输入描述",trigger:"blur"},{validator:function(e,t,a){var l=t.split("/"),r=l[0],n=l[1],o=l[2];r&&n&&o?a():a(new Error("请输入正确格式的描述"))},trigger:"blur"}]}}},computed:{},watch:{dialogVisible:function(e){this.$refs.setForm&&this.$refs.setForm.resetFields()}},mounted:function(){this.handlerSearch()},methods:{handleTabClick:function(){this.resetSearchData(),this.handlerSearch()},beforeClose:function(e,t,a){this.resetEditForm(t,a)},resetEditForm:function(e,t){console.log(e),"defaultSetForm"===e?(this.$refs.uploadDefLogo.clearFiles(),this.$refs.uploadDefBackUrl.clearFiles(),this.defaultSetformLabelAlign={defLogo:"",defBackUrl:""}):"setForm"===e&&(this.$refs.uploadLogo.clearFiles(),this.$refs.uploadBackUrl.clearFiles(),this.formLabelAlign={backUrl:"",logo:""}),this.$refs[e].resetFields(),this[t]=!1},submitEditForm:function(e,t){var a,l=this;this.$refs[e].validate((a=s()(o.a.mark(function a(r){var n,i;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!r){a.next=16;break}if("setForm"!==e){a.next=10;break}return n={brand:l._apiBrandConfig,address:l._apiAddressConfig,movie:l._apiMovieConfig},i={brand:l._apiBrandList,address:l._apiAddressList,movie:l._apiMovieList},a.next=6,n[l.tabActiveName](l.formLabelAlign);case 6:return a.next=8,i[l.tabActiveName]();case 8:a.next=13;break;case 10:if("defaultSetForm"!==e){a.next=13;break}return a.next=13,l.handleVideoSet();case 13:l.resetEditForm(e,t),a.next=18;break;case 16:return console.log("error submit!!"),a.abrupt("return",!1);case 18:case"end":return a.stop()}},a,l)})),function(e){return a.apply(this,arguments)}))},resetSearchData:function(){switch(this.tabActiveName){case"brand":for(var e in this.brandSearchData)this.brandSearchData[e]="";break;case"address":for(var t in this.addressSearchData)this.addressSearchData[t]="";break;case"movie":for(var a in this.movieSearchData)this.movieSearchData[a]=""}},handlerRouteToBook:function(e){var t=e.id;this.$router.push({name:"runnotes",query:{type:"tag",id:t}})},handlerCname:function(){var e={};switch(this.tabActiveName){case"brand":e={id:"",backUrl:"",labelContent:"",logo:"",name:"",desc:"",place:""};break;case"address":e={id:"",name:"",type:"",logo:"",backUrl:"",hot:"",def:"",rankNum:"",businessCircle:"",streets:"",locationType:"",perCapita:"",businessHours:"",address:"",lon:"",lat:"",desc:"",tel:"",city:""};break;case"movie":e={id:"",rankNum:"",name:"",logo:"",hot:"",backUrl:"",desc:"",labelContent:""}}this.formLabelAlign=e,this.dialogVisible=!0},handlerDisable:function(e){var t=this;return s()(o.a.mark(function a(){var l,r;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return console.log(e),l={id:e.id,status:-1===e.status?1:-1},r={brand:t._apiBrandConfig,address:t._apiAddressConfig,movie:t._apiMovieConfig},a.next=5,r[t.tabActiveName](l);case 5:t.handlerSearch();case 6:case"end":return a.stop()}},a,t)}))()},handlerDelete:function(e){var t=this;return s()(o.a.mark(function a(){var l,r;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return l={id:e.id,status:-2},r={brand:t._apiBrandConfig,address:t._apiAddressConfig,movie:t._apiMovieConfig},a.next=4,r[t.tabActiveName](l);case 4:t.handlerSearch();case 5:case"end":return a.stop()}},a,t)}))()},handlerEdit:function(e){console.log(e);var t={};switch(this.tabActiveName){case"brand":t={id:e.id,backUrl:e.backUrl,labelContent:e.labelContent,logo:e.logo,name:e.name,desc:e.desc,place:e.place};break;case"address":t={id:e.id,name:e.name,type:e.type,logo:e.logo,backUrl:e.backUrl,hot:e.hot,rankNum:e.rankNum,businessCircle:e.businessCircle,streets:e.streets,locationType:e.locationType,perCapita:e.perCapita,businessHours:e.businessHours,address:e.address,lon:e.lon,lat:e.lat,desc:e.desc,tel:e.tel,city:e.city};break;case"movie":t={id:e.id,rankNum:e.rankNum,name:e.name,logo:e.logo,hot:e.hot,backUrl:e.backUrl,desc:e.desc,place:e.place,labelContent:e.labelContent}}this.formLabelAlign=t,this.dialogVisible=!0},handlerExport:function(){({brand:this._apiBrandList,address:this._apiAddressList,movie:this._apiMovieList})[this.tabActiveName](!0)},handlerSearch:function(){var e=this;return s()(o.a.mark(function t(){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={brand:e._apiBrandList,address:e._apiAddressList,movie:e._apiMovieList},e.tableDataLoading=!0,t.next=4,a[e.tabActiveName]();case 4:e.tableDataLoading=!1;case 5:case"end":return t.stop()}},t,e)}))()},handleDefaultSet:function(){var e=this;return s()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.handleGetVideoOption();case 3:e.defaultSetDialogVisible=!0,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),e.$message.error(t.t0);case 9:case"end":return t.stop()}},t,e,[[0,6]])}))()},handlerImgUpload:function(e,t){var a=this;return s()(o.a.mark(function l(){var r,n,i;return o.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return r=e.file,(n=new FormData).append("file",r),l.next=5,a._apiUploadPic(n);case 5:i=l.sent,l.t0=t,l.next="logo"===l.t0?9:"backUrl"===l.t0?11:"defaultLogo"===l.t0?13:"defaultBackUrl"===l.t0?15:17;break;case 9:return a.formLabelAlign.logo=i,l.abrupt("break",17);case 11:return a.formLabelAlign.backUrl=i,l.abrupt("break",17);case 13:return a.defaultSetformLabelAlign.defLogo=i,l.abrupt("break",17);case 15:return a.defaultSetformLabelAlign.defBackUrl=i,l.abrupt("break",17);case 17:case"end":return l.stop()}},l,a)}))()},handlerRemoveUploadImg:function(e){switch(e){case"logo":this.formLabelAlign.logo="";break;case"backUrl":this.formLabelAlign.backUrl="";break;case"defaultLogo":this.defaultSetformLabelAlign.defLogo="";break;case"defaultBackUrl":this.defaultSetformLabelAlign.defBackUrl=""}},handleGetVideoOption:function(){var e=this;return Object(c.l)().then(function(t){var a=t.data;e.defaultSetformLabelAlign={defLogo:a.defLogo,defBackUrl:a.defBackUrl}})},handleVideoSet:function(){var e=this;return Object(c.S)(this.defaultSetformLabelAlign).then(function(t){e.$message.success("操作成功!")}).catch(function(t){console.log(t),e.$message.error("操作失败!")})},_apiBrandConfig:function(e){return Object(c.d)(e)},_apiAddressConfig:function(e){return Object(c.c)(e)},_apiMovieConfig:function(e){return Object(c.r)(e)},_apiBrandList:function(e){var t=this,a=r()(this.brandSearchData,{derive:e,currentPage:this.brandCurrentPage});return Object(c.j)(a,e).then(function(a){if(e){var l=new Blob([a],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document;charset=utf-8"}),r=document.createElement("a"),n=window.URL.createObjectURL(l);r.href=n;r.download="品牌标签管理导出.xls",document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(n)}else t.brandList=a.dataList,t.brandTotalSize=a.totalSize,t.brandCurrentPage=a.currentPage})},_apiAddressList:function(e){var t=this,a=r()(this.addressSearchData,{derive:e,currentPage:this.addressCurrentPage});return Object(c.i)(a,e).then(function(a){if(e){var l=new Blob([a],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document;charset=utf-8"}),r=document.createElement("a"),n=window.URL.createObjectURL(l);r.href=n;r.download="地点标签管理导出.xls",document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(n)}else t.addressList=a.dataList,t.addressTotalSize=a.totalSize,t.addressCurrentPage=a.currentPage})},_apiMovieList:function(e){var t=this,a=r()(this.movieSearchData,{derive:e,currentPage:this.movieCurrentPage});return Object(c.k)(a,e).then(function(a){if(e){var l=new Blob([a],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document;charset=utf-8"}),r=document.createElement("a"),n=window.URL.createObjectURL(l);r.href=n;r.download="影视标签管理导出.xls",document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(n)}else t.movieList=a.dataList,t.movieTotalSize=a.totalSize,t.movieCurrentPage=a.currentPage})},_apiUploadPic:function(e){return Object(c.K)(e).then(function(e){return e.data}).catch(function(e){console.log(e)})}},filters:{cateGoryFilter:function(e){var t="";switch(e=Number(e)){case 1:t="餐饮";break;case 2:t="景点";break;case 3:t="普通";break;default:t=""}return t}}},u={render:function(){var e=this,t=this,a=t.$createElement,l=t._self._c||a;return l("div",{staticClass:"faceworld-tag"},[l("el-container",[l("el-header",{attrs:{height:"75px"}},[l("el-row",{staticClass:"header",attrs:{type:"flex",justify:"space-between"}},[l("el-col",[l("span",{staticStyle:{"line-height":"30px"}},[t._v("标签管理")])]),t._v(" "),l("el-col",{staticClass:"right"},[l("el-button",{attrs:{size:"mini",type:"text"},on:{click:t.handleDefaultSet}},[t._v("默认设置")])],1)],1)],1),t._v(" "),l("el-main",[l("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":t.handleTabClick},model:{value:t.tabActiveName,callback:function(e){t.tabActiveName=e},expression:"tabActiveName"}},[l("el-tab-pane",{attrs:{label:"品牌标签",name:"brand"}},[l("el-row",{attrs:{gutter:20}},[l("el-col",{attrs:{span:4}},[l("el-input",{attrs:{placeholder:"品牌名称",clearable:""},model:{value:t.brandSearchData.name,callback:function(e){t.$set(t.brandSearchData,"name",e)},expression:"brandSearchData.name"}})],1),t._v(" "),l("el-col",{attrs:{span:3}},[l("el-select",{attrs:{placeholder:"品牌状态",clearable:""},model:{value:t.brandSearchData.status,callback:function(e){t.$set(t.brandSearchData,"status",e)},expression:"brandSearchData.status"}},t._l(t.statusSelect,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),t._v(" "),l("el-col",{attrs:{span:6}},[l("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handlerSearch}},[t._v("查询")]),t._v(" "),l("el-button",{attrs:{plain:"",icon:"el-icon-upload2"},on:{click:t.handlerExport}},[t._v("导出")]),t._v(" "),l("el-button",{attrs:{type:"success",icon:"el-icon-plus"},on:{click:t.handlerCname}},[t._v("新建")])],1)],1),t._v(" "),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.tableDataLoading,expression:"tableDataLoading"}],staticClass:"tabTable",staticStyle:{width:"100%"},attrs:{border:"",data:t.brandList}},[l("el-table-column",{attrs:{label:"序号",type:"index",width:"100","header-align":"center",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"name",label:"品牌名称",width:"180","header-align":"center",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"logo",label:"logo图","header-align":"center",align:"center",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-image",{staticStyle:{width:"150px",height:"150px"},attrs:{src:e.row.logo,fit:"contain"},on:{click:function(a){t.$store.dispatch("openImgPreview",{url:e.row.logo})}}})]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"backUrl",label:"背景图","header-align":"center",align:"center",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-image",{staticStyle:{width:"150px",height:"150px"},attrs:{src:e.row.backUrl,fit:"cover"},on:{click:function(a){t.$store.dispatch("openImgPreview",{url:e.row.backUrl})}}})]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"stauts",label:"品牌状态","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(1===e.row.status?"启用":"禁止")+"\n\t\t\t\t\t\t\t\t")]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"操作",fixed:"right",width:"300","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){t.handlerEdit(e.row)}}},[t._v("编辑")]),t._v(" "),l("el-button",{attrs:{size:"mini",type:1===e.row.status?"danger":"success"},on:{click:function(a){t.handlerDisable(e.row)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(1===e.row.status?"禁止":"启用")+"\n\t\t\t\t\t\t\t\t\t")]),t._v(" "),l("el-button",{attrs:{size:"mini"},on:{click:function(a){t.handlerDelete(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),l("div",{directives:[{name:"show",rawName:"v-show",value:t.brandTotalSize,expression:"brandTotalSize"}],staticClass:"pagination-container"},[l("el-pagination",{attrs:{background:"","current-page":t.brandCurrentPage,"page-size":t.pageSize,layout:"prev, pager, next, jumper",total:t.brandTotalSize},on:{"current-change":t.handlerSearch,"update:currentPage":function(e){t.brandCurrentPage=e}}})],1)],1),t._v(" "),l("el-tab-pane",{attrs:{label:"地点标签",name:"address"}},[l("el-row",{attrs:{gutter:20}},[l("el-col",{attrs:{span:4}},[l("el-input",{attrs:{placeholder:"地点名称",clearable:""},model:{value:t.addressSearchData.name,callback:function(e){t.$set(t.addressSearchData,"name",e)},expression:"addressSearchData.name"}})],1),t._v(" "),l("el-col",{attrs:{span:4}},[l("el-input",{attrs:{placeholder:"城市名称",clearable:""},model:{value:t.addressSearchData.city,callback:function(e){t.$set(t.addressSearchData,"city",e)},expression:"addressSearchData.city"}})],1),t._v(" "),l("el-col",{attrs:{span:3}},[l("el-select",{attrs:{placeholder:"是否热门",clearable:""},model:{value:t.addressSearchData.hot,callback:function(e){t.$set(t.addressSearchData,"hot",e)},expression:"addressSearchData.hot"}},t._l(t.hotSelect,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),t._v(" "),l("el-col",{attrs:{span:3}},[l("el-select",{attrs:{placeholder:"所属分类",clearable:""},model:{value:t.addressSearchData.type,callback:function(e){t.$set(t.addressSearchData,"type",e)},expression:"addressSearchData.type"}},t._l(t.cateGorySelect,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),t._v(" "),l("el-col",{attrs:{span:3}},[l("el-select",{attrs:{placeholder:"品牌状态",clearable:""},model:{value:t.addressSearchData.status,callback:function(e){t.$set(t.addressSearchData,"status",e)},expression:"addressSearchData.status"}},t._l(t.statusSelect,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),t._v(" "),l("el-col",{attrs:{span:6}},[l("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handlerSearch}},[t._v("查询")]),t._v(" "),l("el-button",{attrs:{plain:"",icon:"el-icon-upload2"},on:{click:t.handlerExport}},[t._v("导出")]),t._v(" "),l("el-button",{attrs:{type:"success",icon:"el-icon-plus"},on:{click:t.handlerCname}},[t._v("新建")])],1)],1),t._v(" "),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.tableDataLoading,expression:"tableDataLoading"}],staticClass:"tabTable",staticStyle:{width:"100%"},attrs:{border:"",data:t.addressList}},[l("el-table-column",{attrs:{label:"序号",type:"index",width:"100","header-align":"center",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"name",label:"地点名称",width:"180","header-align":"center",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"city",label:"城市名称","header-align":"center",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"backUrl",label:"背景图","header-align":"center",align:"center",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-image",{staticStyle:{width:"150px",height:"150px"},attrs:{src:e.row.backUrl,fit:"cover"},on:{click:function(a){t.$store.dispatch("openImgPreview",{url:e.row.backUrl})}}})]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"type",label:"所属分类","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(t._f("cateGoryFilter")(e.row.type))+"\n\t\t\t\t\t\t\t\t")]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"hot",label:"是否热门","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(1===e.row.hot?"热门":"非热门")+"\n\t\t\t\t\t\t\t\t")]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"rankNum",label:"热门顺序","header-align":"center",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"status",label:"影视状态","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(1===e.row.status?"启用":"禁止")+"\n\t\t\t\t\t\t\t\t")]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"操作",fixed:"right",width:"340","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){t.handlerEdit(e.row)}}},[t._v("编辑")]),t._v(" "),l("el-button",{attrs:{size:"mini",type:1===e.row.status?"danger":"success"},on:{click:function(a){t.handlerDisable(e.row)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(1===e.row.status?"禁止":"启用")+"\n\t\t\t\t\t\t\t\t\t")]),t._v(" "),l("el-button",{attrs:{size:"mini"},on:{click:function(a){t.handlerRouteToBook(e.row)}}},[t._v("管理笔记")]),t._v(" "),l("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.handlerDelete(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),l("div",{directives:[{name:"show",rawName:"v-show",value:t.addressTotalSize,expression:"addressTotalSize"}],staticClass:"pagination-container"},[l("el-pagination",{attrs:{background:"","current-page":t.addressCurrentPage,"page-size":t.pageSize,layout:"prev, pager, next, jumper",total:t.addressTotalSize},on:{"current-change":t.handlerSearch,"update:currentPage":function(e){t.addressCurrentPage=e}}})],1)],1),t._v(" "),l("el-tab-pane",{attrs:{label:"影视标签",name:"movie"}},[l("el-row",{attrs:{gutter:20}},[l("el-col",{attrs:{span:4}},[l("el-input",{attrs:{placeholder:"影视名称",clearable:""},model:{value:t.movieSearchData.name,callback:function(e){t.$set(t.movieSearchData,"name",e)},expression:"movieSearchData.name"}})],1),t._v(" "),l("el-col",{attrs:{span:3}},[l("el-select",{attrs:{placeholder:"是否热门",clearable:""},model:{value:t.movieSearchData.hot,callback:function(e){t.$set(t.movieSearchData,"hot",e)},expression:"movieSearchData.hot"}},t._l(t.hotSelect,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),t._v(" "),l("el-col",{attrs:{span:3}},[l("el-select",{attrs:{placeholder:"影视状态",clearable:""},model:{value:t.movieSearchData.status,callback:function(e){t.$set(t.movieSearchData,"status",e)},expression:"movieSearchData.status"}},t._l(t.statusSelect,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),t._v(" "),l("el-col",{attrs:{span:6}},[l("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handlerSearch}},[t._v("查询")]),t._v(" "),l("el-button",{attrs:{plain:"",icon:"el-icon-upload2"},on:{click:t.handlerExport}},[t._v("导出")]),t._v(" "),l("el-button",{attrs:{type:"success",icon:"el-icon-plus"},on:{click:t.handlerCname}},[t._v("新建")])],1)],1),t._v(" "),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.tableDataLoading,expression:"tableDataLoading"}],staticClass:"tabTable",staticStyle:{width:"100%"},attrs:{border:"",data:t.movieList}},[l("el-table-column",{attrs:{label:"序号",type:"index",width:"100","header-align":"center",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"name",label:"影视名称",width:"180","header-align":"center",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"logo",label:"logo图","header-align":"center",align:"center",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-image",{staticStyle:{width:"150px",height:"150px"},attrs:{src:e.row.logo,fit:"contain"},on:{click:function(a){t.$store.dispatch("openImgPreview",{url:e.row.logo})}}})]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"backUrl",label:"背景图","header-align":"center",align:"center",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-image",{staticStyle:{width:"150px",height:"150px"},attrs:{src:e.row.backUrl,fit:"cover"},on:{click:function(a){t.$store.dispatch("openImgPreview",{url:e.row.backUrl})}}})]}}])}),t._v(" "),l("el-table-column",{attrs:{prop:"hot",label:"是否热门","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(1===e.row.hot?"热门":"非热门")+"\n\t\t\t\t\t\t\t\t")]}}])},[t._v(">\n\t\t\t\t\t\t\t\t")]),t._v(" "),l("el-table-column",{attrs:{prop:"rankNum",label:"热门顺序","header-align":"center",align:"center"}},[t._v(">\n\t\t\t\t\t\t\t")]),t._v(" "),l("el-table-column",{attrs:{prop:"status",label:"影视状态","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(1===e.row.status?"启用":"禁止")+"\n\t\t\t\t\t\t\t\t")]}}])},[t._v(">\n\t\t\t\t\t\t\t\t")]),t._v(" "),l("el-table-column",{attrs:{label:"操作",fixed:"right",width:"340","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){t.handlerEdit(e.row)}}},[t._v("编辑")]),t._v(" "),l("el-button",{attrs:{size:"mini",type:1===e.row.status?"danger":"success"},on:{click:function(a){t.handlerDisable(e.row)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(1===e.row.status?"禁止":"启用")+"\n\t\t\t\t\t\t\t\t\t")]),t._v(" "),l("el-button",{attrs:{size:"mini"},on:{click:function(a){t.handlerRouteToBook(e.row)}}},[t._v("管理笔记")]),t._v(" "),l("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.handlerDelete(e.row)}}},[t._v("删除")])]}}])},[t._v(">\n\t\t\t\t\t\t\t\t")])],1),t._v(" "),l("div",{directives:[{name:"show",rawName:"v-show",value:t.movieTotalSize,expression:"movieTotalSize"}],staticClass:"pagination-container"},[l("el-pagination",{attrs:{background:"","current-page":t.movieCurrentPage,"page-size":t.pageSize,layout:"prev, pager, next, jumper",total:t.movieTotalSize},on:{"current-change":t.handlerSearch,"update:currentPage":function(e){t.movieCurrentPage=e}}})],1)],1)],1)],1)],1),t._v(" "),l("el-dialog",{attrs:{visible:t.defaultSetDialogVisible,"before-close":function(e){t.beforeClose(e,"defaultSetForm","defaultSetDialogVisible")},width:"550px",center:""},on:{"update:visible":function(e){t.defaultSetDialogVisible=e}}},[l("el-form",{ref:"defaultSetForm",attrs:{"label-position":"left","label-width":"100px",model:t.defaultSetformLabelAlign}},[l("el-form-item",{attrs:{label:"默认logo图",prop:"defLogo"}},[l("upload-img-only",{ref:"uploadDefLogo",attrs:{handleImgUploadSuccess:function(t){e.handlerImgUpload(t,"defaultLogo")},uploadImgRemove:function(t){e.handlerRemoveUploadImg(t,"defaultLogo")},imgUrl:t.defaultSetformLabelAlign.defLogo}})],1),t._v(" "),l("el-form-item",{attrs:{label:"默认背景图",prop:"defBackUrl"}},[l("upload-img-only",{ref:"uploadDefBackUrl",attrs:{handleImgUploadSuccess:function(t){e.handlerImgUpload(t,"defaultBackUrl")},uploadImgRemove:function(t){e.handlerRemoveUploadImg(t,"defaultBackUrl")},imgUrl:t.defaultSetformLabelAlign.defBackUrl}})],1)],1),t._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(e){t.resetEditForm("defaultSetForm","defaultSetDialogVisible")}}},[t._v("取 消")]),t._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitEditForm("defaultSetForm","defaultSetDialogVisible")}}},[t._v("确 定")])],1)],1),t._v(" "),l("el-dialog",{attrs:{visible:t.dialogVisible,"before-close":function(e){t.beforeClose(e,"setForm","dialogVisible")},width:"550px",center:""},on:{"update:visible":function(e){t.dialogVisible=e}}},["brand"===t.tabActiveName?l("el-form",{ref:"setForm",attrs:{"label-position":"left","label-width":"120px",model:t.formLabelAlign,rules:t.brandEditrules}},[l("el-form-item",{attrs:{label:"品牌名称",prop:"name"}},[l("el-input",{attrs:{placeholder:"请输入品牌名称",clearable:""},model:{value:t.formLabelAlign.name,callback:function(e){t.$set(t.formLabelAlign,"name",e)},expression:"formLabelAlign.name"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"品牌英文名称",prop:"labelContent"}},[l("el-input",{attrs:{placeholder:"请输入品牌英文名称",clearable:""},model:{value:t.formLabelAlign.labelContent,callback:function(e){t.$set(t.formLabelAlign,"labelContent",e)},expression:"formLabelAlign.labelContent"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"地址",prop:"place"}},[l("el-input",{attrs:{placeholder:"请输入地址",clearable:""},model:{value:t.formLabelAlign.place,callback:function(e){t.$set(t.formLabelAlign,"place",e)},expression:"formLabelAlign.place"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"logo图",prop:"logo"}},[l("upload-img-only",{ref:"uploadLogo",attrs:{handleImgUploadSuccess:function(t){e.handlerImgUpload(t,"logo")},imgUrl:t.formLabelAlign.logo}})],1),t._v(" "),l("el-form-item",{attrs:{label:"背景图",prop:"backUrl"}},[l("upload-img-only",{ref:"uploadBackUrl",attrs:{handleImgUploadSuccess:function(t){e.handlerImgUpload(t,"backUrl")},imgUrl:t.formLabelAlign.backUrl}})],1),t._v(" "),l("el-form-item",{attrs:{label:"简介",prop:"desc"}},[l("el-input",{attrs:{placeholder:"请输入简介",type:"textarea",rows:2,clearable:""},model:{value:t.formLabelAlign.desc,callback:function(e){t.$set(t.formLabelAlign,"desc",e)},expression:"formLabelAlign.desc"}})],1)],1):"address"===t.tabActiveName?l("el-form",{ref:"setForm",attrs:{"label-position":"left","label-width":"100px",model:t.formLabelAlign,rules:t.addressEditrules}},[l("el-form-item",{attrs:{label:"地点名称",prop:"name"}},[l("el-input",{attrs:{placeholder:"地点名称",clearable:""},model:{value:t.formLabelAlign.name,callback:function(e){t.$set(t.formLabelAlign,"name",e)},expression:"formLabelAlign.name"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"所属分类",prop:"type"}},[l("el-select",{attrs:{placeholder:"请选择所属分类",clearable:""},model:{value:t.formLabelAlign.type,callback:function(e){t.$set(t.formLabelAlign,"type",e)},expression:"formLabelAlign.type"}},t._l(t.cateGorySelect,function(e){return l("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})}))],1),t._v(" "),l("el-form-item",{attrs:{label:"logo图",prop:"logo"}},[l("upload-img-only",{ref:"uploadLogo",attrs:{handleImgUploadSuccess:function(t){e.handlerImgUpload(t,"logo")},imgUrl:t.formLabelAlign.logo}})],1),t._v(" "),l("el-form-item",{attrs:{label:"背景图",prop:"backUrl"}},[l("upload-img-only",{ref:"uploadBackUrl",attrs:{handleImgUploadSuccess:function(t){e.handlerImgUpload(t,"backUrl")},imgUrl:t.formLabelAlign.backUrl}})],1),t._v(" "),l("el-form-item",{attrs:{label:"是否默认",prop:"def"}},[l("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-text":"是否默认","active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.formLabelAlign.def,callback:function(e){t.$set(t.formLabelAlign,"def",e)},expression:"formLabelAlign.def"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"是否热门",prop:"hot"}},[l("el-switch",{attrs:{"active-value":1,"inactive-value":-1,"active-text":"将其加入热门","active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.formLabelAlign.hot,callback:function(e){t.$set(t.formLabelAlign,"hot",e)},expression:"formLabelAlign.hot"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"热门顺序",prop:"rankNum"}},[l("el-input",{attrs:{placeholder:"请输入热门顺序",type:"number",clearable:""},model:{value:t.formLabelAlign.rankNum,callback:function(e){t.$set(t.formLabelAlign,"rankNum",e)},expression:"formLabelAlign.rankNum"}})],1),t._v(" "),1===t.formLabelAlign.type?l("el-form-item",{attrs:{label:"描述",prop:"labelContent"}},[l("el-input",{attrs:{placeholder:"请输入餐饮地点描述",clearable:""},model:{value:t.formLabelAlign.labelContent,callback:function(e){t.$set(t.formLabelAlign,"labelContent",e)},expression:"formLabelAlign.labelContent"}})],1):t._e(),t._v(" "),l("el-form-item",{attrs:{label:"城市",prop:"city"}},[l("el-input",{attrs:{placeholder:"请输入城市",clearable:""},model:{value:t.formLabelAlign.city,callback:function(e){t.$set(t.formLabelAlign,"city",e)},expression:"formLabelAlign.city"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"营业时间",prop:"businessHours"}},[l("el-input",{attrs:{placeholder:"请输入营业时间",clearable:""},model:{value:t.formLabelAlign.businessHours,callback:function(e){t.$set(t.formLabelAlign,"businessHours",e)},expression:"formLabelAlign.businessHours"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"地址",prop:"address"}},[l("el-input",{attrs:{placeholder:"请输入地址",clearable:""},model:{value:t.formLabelAlign.address,callback:function(e){t.$set(t.formLabelAlign,"address",e)},expression:"formLabelAlign.address"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"经度",prop:"lon"}},[l("el-input",{attrs:{placeholder:"请输入经度",type:"number",clearable:""},model:{value:t.formLabelAlign.lon,callback:function(e){t.$set(t.formLabelAlign,"lon",e)},expression:"formLabelAlign.lon"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"纬度",prop:"lat"}},[l("el-input",{attrs:{placeholder:"请输入纬度",type:"number",clearable:""},model:{value:t.formLabelAlign.lat,callback:function(e){t.$set(t.formLabelAlign,"lat",e)},expression:"formLabelAlign.lat"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"简介",prop:"desc"}},[l("el-input",{attrs:{placeholder:"请输入描述",clearable:""},model:{value:t.formLabelAlign.desc,callback:function(e){t.$set(t.formLabelAlign,"desc",e)},expression:"formLabelAlign.desc"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"联系电话",prop:"tel"}},[l("el-input",{attrs:{placeholder:"请输入联系电话",type:"number",clearable:""},model:{value:t.formLabelAlign.tel,callback:function(e){t.$set(t.formLabelAlign,"tel",e)},expression:"formLabelAlign.tel"}})],1)],1):"movie"===t.tabActiveName?l("el-form",{ref:"setForm",attrs:{"label-position":"left","label-width":"100px",model:t.formLabelAlign,rules:t.movieEditrules}},[l("el-form-item",{attrs:{label:"影视名称",prop:"videoCorner"}},[l("el-input",{attrs:{placeholder:"影视名称",clearable:""},model:{value:t.formLabelAlign.name,callback:function(e){t.$set(t.formLabelAlign,"name",e)},expression:"formLabelAlign.name"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"logo图",prop:"logo"}},[l("upload-img-only",{ref:"uploadLogo",attrs:{handleImgUploadSuccess:function(t){e.handlerImgUpload(t,"logo")},imgUrl:t.formLabelAlign.logo}})],1),t._v(" "),l("el-form-item",{attrs:{label:"背景图",prop:"backUrl"}},[l("upload-img-only",{ref:"uploadBackUrl",attrs:{handleImgUploadSuccess:function(t){e.handlerImgUpload(t,"backUrl")},imgUrl:t.formLabelAlign.backUrl}})],1),t._v(" "),l("el-form-item",{attrs:{label:"是否热门",prop:"hot"}},[l("el-switch",{attrs:{"active-value":1,"inactive-value":-1,"active-text":"将其加入热门","active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.formLabelAlign.hot,callback:function(e){t.$set(t.formLabelAlign,"hot",e)},expression:"formLabelAlign.hot"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"热门顺序",prop:"rankNum"}},[l("el-input",{attrs:{placeholder:"请输入热门顺序",type:"number",clearable:""},model:{value:t.formLabelAlign.rankNum,callback:function(e){t.$set(t.formLabelAlign,"rankNum",e)},expression:"formLabelAlign.rankNum"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"国家",prop:"place"}},[l("el-input",{attrs:{placeholder:"请输入国家",clearable:""},model:{value:t.formLabelAlign.place,callback:function(e){t.$set(t.formLabelAlign,"place",e)},expression:"formLabelAlign.place"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"描述",prop:"labelContent"}},[l("el-input",{attrs:{placeholder:"请输入类型/地区/年份",clearable:""},model:{value:t.formLabelAlign.labelContent,callback:function(e){t.$set(t.formLabelAlign,"labelContent",e)},expression:"formLabelAlign.labelContent"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"简介",prop:"desc"}},[l("el-input",{attrs:{placeholder:"请输入简介",type:"textarea",rows:2,clearable:""},model:{value:t.formLabelAlign.desc,callback:function(e){t.$set(t.formLabelAlign,"desc",e)},expression:"formLabelAlign.desc"}})],1)],1):t._e(),t._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(e){t.resetEditForm("setForm","dialogVisible")}}},[t._v("取 消")]),t._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitEditForm("setForm","dialogVisible")}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var b=a("VU/8")(d,u,!1,function(e){a("foh5")},"data-v-f4970d56",null);t.default=b.exports},foh5:function(e,t){}});