webpackJsonp([20],{CWbP:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("woOf"),n=a.n(o),r=a("ZfnU"),l={name:"banner",components:{},data:function(){return{shelvesArr:[{value:"首页banner",num:1}],tabledata:[{}],tabledata1:[{}],shelvesData:"首页banner",radio:"F",radio1:"F",uploadUrl:"https://www.xiaoxiangyoupin.com/xxyp-manager/haitao/uploadImage",bannerIndexArr:[1,2,3],bannerIndexArr1:[1],totalSize1:0,totalSize:0,currentPage1:1,currentPage:1,pagesize:20,pagesize1:20}},created:function(){this.searchLook(),this.typeData()},watch:{radio:function(){this.searchLook()},radio1:function(t){this.typeData()}},methods:{getSortSelectLength:function(t,e){for(var a=[],o=1;o<t+1;o++)a.push(o);return a},handleSizeChange:function(t){this.pagesize=t,this.searchLook()},handleSizeChange1:function(t){this.pagesize1=t,this.typeData()},handleCurrentChange:function(t){this.currentPage=t,this.searchLook()},handleCurrentChange1:function(t){this.currentPage1=t,this.typeData()},getData:function(t,e,a,o,n){var l={area:t,version:a,pageNum:o,pageSize:n};Object(r.e)(l).then(function(t){e(t)})},searchLook:function(){var t=this;this.getData("FOUND",function(e){t.tabledata=e.dataList.reverse(),t.totalSize=t.tabledata.length},this.radio,this.currentPage,this.pagesize)},btnType:function(t){var e="success";return 1===t?e="warning":0===t&&(e="success"),e},typeData:function(){var t=this;this.getData("COMMON",function(e){t.tabledata1=e.dataList.reverse(),t.totalSize1=t.tabledata1.length},this.radio1,this.currentPage1,this.pagesize1)},demove:function(t,e,a){var o=this;this.$confirm("你确定要删除当前数据吗？","确认信息",{distinguishCancelAndClose:!0,confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){o.row=e,o.type=a,o.deleteConfirm()}).catch(function(t){o.deleteCancel(t)})},deleteConfirm:function(){var t=this;this.row.status=-1,Object(r.f)(this.row).then(function(){t.blockUpdate(t.type,"删除成功")})},deleteCancel:function(t){this.$message({type:"info",message:"取消删除"})},save:function(t,e,a){""!==e.sk.trim()?e.skId?this.modify(e,a):(this.type=a,this.row=e,this.newSave()):this.alertMessage("warning","关键词不能为空")},newSave:function(){var t=this;this.addDataPosition(this.type,this.row),n()(this.row,{scope:"INDEX"}),Object(r.a)(this.row).then(function(){t.blockUpdate(t.type,"新增成功")})},blockUpdate:function(t,e){1===t?this.searchLook():this.typeData(),this.alertMessage("success",e)},alertMessage:function(t,e){this.$message({type:t,message:e})},modify:function(t,e){var a=this;Object(r.f)(t).then(function(t){a.blockUpdate(e,"更新成功")})},toggleStatus:function(t,e,a){var o=this;1===e.status?e.status=0:0===e.status&&(e.status=1),Object(r.f)(e).then(function(){o.blockUpdate(a,"状态修改成功")})},addData:function(t,e){t.splice(0,0,{sk:"",fontColor:"FONT_DEFAULT",bgColor:e,sort:1,gotoUrl:""})},addDataPosition:function(t,e){1===t?n()(e,{area:"FOUND",version:this.radio}):n()(e,{area:"COMMON",version:this.radio1})}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search-wrapper"},[a("div",{staticClass:"header",staticStyle:{"margin-bottom":"0"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("\n          名称：\n          "),a("el-select",{model:{value:t.shelvesData,callback:function(e){t.shelvesData=e},expression:"shelvesData"}},t._l(t.shelvesArr,function(t){return a("el-option",{key:t.num,attrs:{label:t.value,value:t.value}})}))],1)])],1)],1),t._v(" "),a("div",{staticClass:"header"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",{staticClass:"mr"},[t._v("搜索框-搜索发现")]),t._v(" "),a("el-radio",{attrs:{label:"M",border:""},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("男生")]),t._v(" "),a("el-radio",{attrs:{label:"F",border:""},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("女生")])],1)]),t._v(" "),a("el-col",{staticClass:"rg",attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple btn-right"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(e){t.addData(t.tabledata,"BACKGROUND_DEFAULT")}}},[t._v("新增")])],1)])],1),t._v(" "),a("div",{staticClass:"lineW"}),t._v(" "),a("el-table",{staticClass:"lists",staticStyle:{width:"100%"},attrs:{border:"",data:t.tabledata,"empty-text":"暂无数据"}},[a("el-table-column",{attrs:{label:"序号",type:"index",width:"55",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sk",label:"*关键词",width:"260"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:"*关键词",clearable:""},model:{value:e.row.sk,callback:function(a){t.$set(e.row,"sk",a)},expression:"scope.row.sk"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"字体颜色",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-radio",{attrs:{label:"FONT_RED"},model:{value:e.row.fontColor,callback:function(a){t.$set(e.row,"fontColor",a)},expression:"scope.row.fontColor"}},[t._v("红色")]),t._v(" "),a("el-radio",{attrs:{label:"FONT_DEFAULT"},model:{value:e.row.fontColor,callback:function(a){t.$set(e.row,"fontColor",a)},expression:"scope.row.fontColor"}},[t._v("默认")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"背景色",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-radio",{attrs:{label:"BACKGROUND_DEFAULT"},model:{value:e.row.bgColor,callback:function(a){t.$set(e.row,"bgColor",a)},expression:"scope.row.bgColor"}},[t._v("默认")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"排列顺序",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{model:{value:e.row.sort,callback:function(a){t.$set(e.row,"sort",a)},expression:"scope.row.sort"}},t._l(t.getSortSelectLength(t.tabledata.length,t.bannerIndexArr),function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"250",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"medium",type:"primary"},on:{click:function(a){t.save(e.$index,e.row,1)}}},[t._v("保存")]),t._v(" "),a("el-button",{attrs:{size:"medium",type:t.btnType(e.row.status)},on:{click:function(a){t.toggleStatus(e.$index,e.row,1)}}},[t._v(t._s(1===e.row.status?"停用":"启用")+"\n          ")]),t._v(" "),a("el-button",{attrs:{size:"medium",type:"danger"},on:{click:function(a){t.demove(e.$index,e.row,1)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-pagination",{staticClass:"pagination other-pagination",attrs:{"current-page":t.currentPage,"page-sizes":[20,30,40,50],"page-size":t.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.totalSize},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("div",{staticClass:"header"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",{staticClass:"mr"},[t._v("搜索框-常用分类")]),t._v(" "),a("el-radio",{attrs:{label:"M",border:""},model:{value:t.radio1,callback:function(e){t.radio1=e},expression:"radio1"}},[t._v("男生")]),t._v(" "),a("el-radio",{attrs:{label:"F",border:""},model:{value:t.radio1,callback:function(e){t.radio1=e},expression:"radio1"}},[t._v("女生")])],1)]),t._v(" "),a("el-col",{staticClass:"rg",attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple btn-right"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(e){t.addData(t.tabledata1,"BACKGROUND_RANDOM")}}},[t._v("新增")])],1)])],1),t._v(" "),a("div",{staticClass:"lineW"}),t._v(" "),a("el-table",{staticClass:"lists",staticStyle:{width:"100%"},attrs:{data:t.tabledata1,border:"","empty-text":"暂无数据"}},[a("el-table-column",{attrs:{label:"序号",type:"index",width:"55",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sk",label:"*关键词",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:"*关键词",clearable:""},model:{value:e.row.sk,callback:function(a){t.$set(e.row,"sk",a)},expression:"scope.row.sk"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"字体颜色",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-radio",{attrs:{label:"FONT_RED"},model:{value:e.row.fontColor,callback:function(a){t.$set(e.row,"fontColor",a)},expression:"scope.row.fontColor"}},[t._v("红色")]),t._v(" "),a("el-radio",{attrs:{label:"FONT_DEFAULT"},model:{value:e.row.fontColor,callback:function(a){t.$set(e.row,"fontColor",a)},expression:"scope.row.fontColor"}},[t._v("默认")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"背景色",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-radio",{attrs:{label:"BACKGROUND_RANDOM"},model:{value:e.row.bgColor,callback:function(a){t.$set(e.row,"bgColor",a)},expression:"scope.row.bgColor"}},[t._v("默认")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"排列顺序",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{model:{value:e.row.sort,callback:function(a){t.$set(e.row,"sort",a)},expression:"scope.row.sort"}},t._l(t.getSortSelectLength(t.tabledata1.length,t.bannerIndexArr1),function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"跳转页面",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{model:{value:e.row.gotoUrl,callback:function(a){t.$set(e.row,"gotoUrl",a)},expression:"scope.row.gotoUrl"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"250",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"medium",type:"primary"},on:{click:function(a){t.save(e.$index,e.row,2)}}},[t._v("保存")]),t._v(" "),a("el-button",{attrs:{size:"medium",type:t.btnType(e.row.status)},on:{click:function(a){t.toggleStatus(e.$index,e.row,2)}}},[t._v(t._s(1===e.row.status?"停用":"启用")+"\n          ")]),t._v(" "),a("el-button",{attrs:{size:"medium",type:"danger"},on:{click:function(a){t.demove(e.$index,e.row,2)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-pagination",{staticClass:"pagination other-pagination",attrs:{"current-page":t.currentPage1,"page-sizes":[20,30,40,50],"page-size":t.pagesize1,layout:"total, sizes, prev, pager, next, jumper",total:t.totalSize1},on:{"size-change":t.handleSizeChange1,"current-change":t.handleCurrentChange1}})],1)])},staticRenderFns:[]};var i=a("VU/8")(l,s,!1,function(t){a("abm8"),a("Zthi"),a("TIzV")},"data-v-6831a092",null);e.default=i.exports},TIzV:function(t,e){},Zthi:function(t,e){},abm8:function(t,e){}});