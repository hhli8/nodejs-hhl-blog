webpackJsonp([75],{eEHv:function(e,t){},"x/uy":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=r("Dd8w"),a=r.n(l),n=r("Xxa5"),o=r.n(n),i=r("exGp"),s=r.n(i),c=r("+ThO"),d=r("LI1f"),m=r("fVWS"),u={name:"order-wait-receiving",data:function(){return{total:0,afterSalesStatus:m.a,orderStatus:m.b,formInline:{afterSaleStatus:1},afterSale:{},orderCancelVisible:!1,orderList:[],supplierList:[]}},components:{pagination:c.a},mounted:function(){this.getSupplierList(),this.getList(1)},methods:{getSupplierList:function(){var e=this;return s()(o.a.mark(function t(){var r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(d.c)({});case 2:r=t.sent,e.supplierList=r.result.data;case 4:case"end":return t.stop()}},t,e)}))()},getList:function(e){var t=this;return s()(o.a.mark(function r(){var l;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t.timeFilter([{key:"creatOrderTime",formKey:["creatOrderStartTime","creatOrderEndTime"]},{key:"deliveryTime",formKey:["deliveryStartTime","deliveryEndTime"]},{key:"payOrderTime",formKey:["payOrderStartTime","payOrderEndTime"]}]),r.next=3,Object(d.b)({page:e,data:t.formInline,pagesizi:t.pagesizi});case 3:l=r.sent,t.pageNum=l.result.pageNum,t.total=l.result.total,t.orderList=l.result.orderDetailDtoList;case 7:case"end":return r.stop()}},r,t)}))()},cancelOrder:function(){var e=this;return s()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(d.a)(a()({orderCode:e.orderIndex.orderCode,supplierCode:e.orderIndex.supplierCode},e.afterSale));case 2:e.orderCancelVisible=!1,e.$message.success("售后处理订单成功!"),e.getList(e.pageNum);case 5:case"end":return t.stop()}},t,e)}))()},timeFilter:function(e){var t=this;e.forEach(function(e){t.formInline[e.key]&&(t.formInline[e.formKey[0]]=t.formInline[e.key][0],t.formInline[e.formKey[1]]=t.formInline[e.key][1])})},cancelOrderBefore:function(e){this.orderIndex=e,this.orderCancelVisible=!0},formInit:function(){this.formInline={afterSaleStatus:1}},handleCurrentChange:function(e){this.pageNum=e,this.getList(this.pageNum)},handleSizeChange:function(e){this.pagesize=e,this.getList(this.pageNum)}}},p={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"order-wait-receiving bg-fff pd-15"},[r("el-form",{attrs:{inline:!0,model:e.formInline}},[r("el-form-item",{attrs:{label:"注册手机"}},[r("el-input",{attrs:{placeholder:"注册手机"},model:{value:e.formInline.creatOrderPhone,callback:function(t){e.$set(e.formInline,"creatOrderPhone",t)},expression:"formInline.creatOrderPhone"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"收货人"}},[r("el-input",{attrs:{placeholder:"收货人"},model:{value:e.formInline.consignee,callback:function(t){e.$set(e.formInline,"consignee",t)},expression:"formInline.consignee"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"订单编号"}},[r("el-input",{attrs:{placeholder:"订单编号"},model:{value:e.formInline.orderCode,callback:function(t){e.$set(e.formInline,"orderCode",t)},expression:"formInline.orderCode"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"供货商"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formInline.supplierCode,callback:function(t){e.$set(e.formInline,"supplierCode",t)},expression:"formInline.supplierCode"}},e._l(e.supplierList,function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"订单状态"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formInline.orderStatus,callback:function(t){e.$set(e.formInline,"orderStatus",t)},expression:"formInline.orderStatus"}},e._l(e.orderStatus,function(e){return r("el-option",{key:e.key,attrs:{label:e.name,value:e.key}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"售后状态"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formInline.afterSaleStatus,callback:function(t){e.$set(e.formInline,"afterSaleStatus",t)},expression:"formInline.afterSaleStatus"}},e._l(e.afterSalesStatus,function(e){return r("el-option",{key:e.key,attrs:{label:e.name,value:e.key}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"下单时间"}},[r("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.formInline.creatOrderTime,callback:function(t){e.$set(e.formInline,"creatOrderTime",t)},expression:"formInline.creatOrderTime"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"支付时间"}},[r("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.formInline.payOrderTime,callback:function(t){e.$set(e.formInline,"payOrderTime",t)},expression:"formInline.payOrderTime"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"发货时间"}},[r("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.formInline.deliveryTime,callback:function(t){e.$set(e.formInline,"deliveryTime",t)},expression:"formInline.deliveryTime"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.getList(1)}}},[e._v("搜索")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.formInit}},[e._v("重置")]),e._v(" "),r("el-button",{attrs:{type:"primary"}},[e._v("导出")])],1)],1),e._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.orderList,border:""}},[r("el-table-column",{attrs:{label:"序号",width:"55"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("p",[e._v(e._s(t.$index+1))])]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"orderCode",label:"订单编号"}}),e._v(" "),r("el-table-column",{attrs:{prop:"goodsCode",label:"商品编号"}}),e._v(" "),r("el-table-column",{attrs:{prop:"creatOrderPhone",label:"注册手机"}}),e._v(" "),r("el-table-column",{attrs:{prop:"consignee",label:"收货人"}}),e._v(" "),r("el-table-column",{attrs:{prop:"creatOrderTime",label:"下单时间"}}),e._v(" "),r("el-table-column",{attrs:{prop:"payOrderTime",label:"支付时间"}}),e._v(" "),r("el-table-column",{attrs:{prop:"deliveryTime",label:"发货时间"}}),e._v(" "),r("el-table-column",{attrs:{prop:"orderStatus",label:"订单状态"}}),e._v(" "),r("el-table-column",{attrs:{prop:"afterSaleStatus",label:"售后状态"}}),e._v(" "),r("el-table-column",{attrs:{prop:"supplierName",label:"供货商"}}),e._v(" "),r("el-table-column",{attrs:{prop:"titel",label:"商品名称"}}),e._v(" "),r("el-table-column",{attrs:{prop:"goodsPrice",label:"系统定价"}}),e._v(" "),r("el-table-column",{attrs:{prop:"contractPrice",label:"采购价"}}),e._v(" "),r("el-table-column",{attrs:{prop:"buySum",label:"数量"}}),e._v(" "),r("el-table-column",{attrs:{prop:"orderMoney",label:"订单金额"}}),e._v(" "),r("el-table-column",{attrs:{prop:"contractAllMoney",label:"采购金额"}}),e._v(" "),r("el-table-column",{attrs:{prop:"contractAllMoney",label:"物流公司"}}),e._v(" "),r("el-table-column",{attrs:{prop:"contractAllMoney",label:"物流单号"}}),e._v(" "),r("el-table-column",{attrs:{prop:"contractAllMoney",label:"操作",fixed:"right",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.afterSaleStatus?r("el-button",{attrs:{size:"mini"},on:{click:function(r){e.cancelOrderBefore(t.row)}}},[e._v("售后处理")]):e._e()]}}])})],1),e._v(" "),r("div",{staticClass:"tc pagination-box"},[r("pagination",{attrs:{total:e.total},on:{handleCurrentChange:e.handleCurrentChange,handleSizeChange:e.handleSizeChange}})],1),e._v(" "),r("el-dialog",{attrs:{title:"售后/处理",visible:e.orderCancelVisible,width:"30%"},on:{"update:visible":function(t){e.orderCancelVisible=t}}},[r("div",[r("el-form",{attrs:{"label-position":"left"}},[r("el-form-item",{attrs:{label:"取消原因:","label-width":"100px"}},[r("p",[e._v("用户申请退货")])])],1),e._v(" "),r("el-form",{attrs:{"label-position":"left"}},[r("el-form-item",{attrs:{label:"处理结果:","label-width":"100px",required:"true"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.afterSale.disposeType,callback:function(t){e.$set(e.afterSale,"disposeType",t)},expression:"afterSale.disposeType"}},[r("el-option",{attrs:{label:"退货成功",value:"2"}}),e._v(" "),r("el-option",{attrs:{label:"退货失败",value:"3"}})],1)],1)],1),e._v(" "),r("el-form",{attrs:{"label-position":"left"}},[r("el-form-item",{attrs:{label:"备注:","label-width":"100px"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入内容",autosize:{minRows:2,maxRows:6},"show-word-limit":""},model:{value:e.afterSale.remakes,callback:function(t){e.$set(e.afterSale,"remakes",t)},expression:"afterSale.remakes"}})],1)],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.orderCancelVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.cancelOrder}},[e._v("提交")])],1)])],1)},staticRenderFns:[]};var f=r("VU/8")(u,p,!1,function(e){r("eEHv")},"data-v-33ecc905",null);t.default=f.exports}});