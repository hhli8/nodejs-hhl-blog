webpackJsonp([77],{"0h/F":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("sVqv"),l={components:{Loading:a("voil").a},data:function(){return{showLoading:!1,search:{name:"",status:""},statusList:[{value:0,label:"全部"},{value:1,label:"待审批"},{value:2,label:"审批通过"},{value:3,label:"审批不通过"}],tabledata:[],currentPage:1,pagesize:10,totalSize:0}},created:function(){this.load()},methods:{indexMethod:function(e){return e+1+(this.currentPage-1)*this.pagesize},doSearch:function(){this.load()},choseStatus:function(){this.load()},load:function(){var e=this;Object(n.p)({pageNum:this.pagesize,currentPage:this.currentPage},{status:0===this.search.status?"":this.search.status,name:this.search.name}).then(function(t){t&&(e.totalSize=t.totalSize,e.tabledata=t.dataList)})},handleSizeChange:function(e){this.pagesize=e,this.load()},handleCurrentChange:function(e){this.currentPage=e,this.load()},loadInfo:function(e){var t=this;this.showLoading=!0,Object(n.s)({userId:e.userId}).then(function(a){var n=new Blob([a],{type:"application/zip"}),l=e.userId;if("download"in document.createElement("a")){var s=document.createElement("a");s.download=l,s.style.display="none",s.href=URL.createObjectURL(n),document.body.appendChild(s),s.click(),URL.revokeObjectURL(s.href),document.body.removeChild(s),t.showLoading=!1}else navigator.msSaveBlob(n,l),t.showLoading=!1}).catch(function(){t.showLoading=!1})},setVertify:function(e,t){var a=this;Object(n.b)({status:t,userId:e.userId}).then(function(e){e&&a.load()})}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container BuyerVerify"},[a("div",{staticClass:"operation-container"},[a("el-input",{attrs:{placeholder:"名称"},model:{value:e.search.name,callback:function(t){e.$set(e.search,"name",t)},expression:"search.name"}}),e._v(" "),a("el-select",{attrs:{placeholder:"状态"},on:{change:e.choseStatus},model:{value:e.search.status,callback:function(t){e.$set(e.search,"status",t)},expression:"search.status"}},e._l(e.statusList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.doSearch}},[e._v("查询")])],1),e._v(" "),a("el-table",{staticClass:"lists",attrs:{data:e.tabledata}},[a("el-table-column",{attrs:{label:"编号",type:"index",fixed:"",index:e.indexMethod}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"用户id",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"age",label:"年龄",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sex",label:"性别",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"height",label:"身高",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"weight",label:"体重",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"联系电话",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.status?a("el-button",{attrs:{type:"info"}},[e._v("待审批")]):e._e(),e._v(" "),2===t.row.status?a("el-button",{attrs:{type:"success"}},[e._v("已通过")]):e._e(),e._v(" "),3===t.row.status?a("el-button",{attrs:{type:"warning"}},[e._v("未通过")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"400"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{on:{click:function(a){e.loadInfo(t.row)}}},[e._v("下载资料")]),e._v(" "),a("el-button",{on:{click:function(a){e.setVertify(t.row,2)}}},[e._v("审批通过")]),e._v(" "),a("el-button",{on:{click:function(a){e.setVertify(t.row,3)}}},[e._v("审批拒绝")])]}}])})],1),e._v(" "),a("el-pagination",{staticClass:"pagination",attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("Loading",{directives:[{name:"show",rawName:"v-show",value:e.showLoading,expression:"showLoading"}]})],1)},staticRenderFns:[]};var o=a("VU/8")(l,s,!1,function(e){a("OZfH")},null,null);t.default=o.exports},OZfH:function(e,t){}});