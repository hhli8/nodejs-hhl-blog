webpackJsonp([4],{"8iGK":function(t,e,a){"use strict";e.e=function(t){return Object(s.a)({url:"/search/add",method:"post",data:t})},e.c=function(t){return Object(s.a)({url:"/search/getList",method:"post",data:t})},e.i=function(t){return Object(s.a)({url:"upload/uploadPic",method:"post",data:t})},e.h=function(t){return Object(s.a)({url:"search/import",method:"post",data:t})},e.f=function(t){return Object(s.a)({url:"search/pvwGoods",method:"post",data:t})},e.g=function(t){return Object(s.a)({url:"search/haitao/pvwGoods",method:"post",data:t})},e.a=function(t){return Object(s.a)({url:"order/selectSubscribeList",method:"post",data:t})},e.b=function(t){return Object(s.a)({url:"order/exportSubscribeList",method:"post",responseType:"blob",data:t})},e.d=function(t){return Object(s.a)({url:"search/getSuggest",method:"post",data:t})};var s=a("vLgD")},C4Ev:function(t,e){},EX6K:function(t,e){},"Ft+7":function(t,e){},"G8/r":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("mvHQ"),i=a.n(s),l=a("Dd8w"),n=a.n(l),o=a("NYxO"),r=a("8iGK"),c={props:["type","inputObj"],data:function(){return{showDialog:!1,uploadValue:{name:"",wh:""},uploadSrc:""}},methods:{beforeUpload:function(t){if(!(t.size/1024<2048))return this.showDialog=!1,this.$message.error("上传图片大小不能超过 2MB!"),!1},open2:function(){this.$message({message:"恭喜你，图片上传成功",type:"success"})},open4:function(t){this.$message.error("图片上传失败"+t)},uploadUrl:function(){return"http://localhost:8088/vain/api/upload/uploadPic"},handleAvatarSuccess:function(t,e){if("movable"===this.inputObj.type){var a=URL.createObjectURL(e.raw);this.$store.commit("classifyData/setImgUrl",{index:this.inputObj.index,imgUrl:a})}},myImgUpload:function(t){var e=this,a=t.file;console.log(a);var s=new FormData;return s.append("file",a),Object(r.i)(s).then(function(a){e.open2();var s=a.data;"movable"===e.type?e.$store.commit("classifyData/setImgUrl",{index:e.inputObj.index,imgUrl:s}):"goods"===e.type&&e.$store.commit("classifyData/setChildDataImgUrl",{index:e.inputObj.index,childrenIndex:e.inputObj.childrenIndex,imgUrl:s}),e.uploadValue={name:"",wh:""},e.uploadSrc="",e.showDialog=!1,e.$refs[t.data.refName].clearFiles()}).catch(function(a){e.open4(a),e.showDialog=!1,e.$refs[t.data.refName].clearFiles()}),!1},fileChange:function(t,e){console.log("change"),console.log(t),this.uploadSrc=t.url;var a=new Image;a.src=t.url;var s=this;a.onload=function(){s.uploadValue={name:t.name,wh:"图片宽高为："+a.width+"X"+a.height},s.showDialog=!0}},saveAndCommit:function(t){this.$refs[t].submit()},isupload:function(t){var e=/^http/.test(t);return e},cancelImgUp:function(t){this.uploadSrc="",this.showDialog=!1,this.uploadValue={name:"",wh:""},this.$refs[t].clearFiles()},onlyOne:function(t,e){console.log(t,e)}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"imgup"},[[a("img",{staticClass:"avatar",class:{bgc:t.isupload(t.inputObj.imgUrl)},attrs:{src:t.inputObj.imgUrl||""}}),t._v(" "),"movable"===t.type?a("el-upload",{ref:t.inputObj.index+"movable",staticClass:"upload-demo",attrs:{"before-upload":t.beforeUpload,action:t.uploadUrl(),"show-file-list":!1,accept:".jpg,.jpeg,.png","on-success":t.handleAvatarSuccess,"auto-upload":!1,"http-request":t.myImgUpload,"on-change":t.fileChange,limit:1,data:{refName:t.inputObj.index+"movable"}}},[a("el-button",{attrs:{type:"primary",size:"mini"}},[t._v(t._s(t.inputObj.imgUrl?"重新上传":"上传"))])],1):t._e(),t._v(" "),"goods"===t.type?a("el-upload",{ref:t.inputObj.index+t.inputObj.childrenIndex+"goods",staticClass:"upload-demo",attrs:{"before-upload":t.beforeUpload,action:t.uploadUrl(),"show-file-list":!1,accept:".jpg,.jpeg,.png","on-success":t.handleAvatarSuccess,"auto-upload":!1,"http-request":t.myImgUpload,"on-change":t.fileChange,limit:1,"on-exceed":t.onlyOne,data:{refName:t.inputObj.index+t.inputObj.childrenIndex+"goods"}}},[a("el-button",{attrs:{type:"primary",size:"mini"}},[t._v(t._s(t.inputObj.imgUrl?"重新上传":"上传"))])],1):t._e(),t._v(" "),a("el-dialog",{attrs:{title:"图片上传",visible:t.showDialog,width:"50%"},on:{"update:visible":function(e){t.showDialog=e}}},[a("h5",[t._v(t._s(t.uploadValue.name))]),t._v(" "),a("h5",[t._v(t._s(t.uploadValue.wh))]),t._v(" "),a("div",{staticClass:"seeImg"},[a("img",{staticClass:"imgstyle",attrs:{src:t.uploadSrc,alt:""}})]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["movable"===t.type?a("el-button",{on:{click:function(e){t.cancelImgUp(t.inputObj.index+"movable")}}},[t._v("取 消")]):t._e(),t._v(" "),"goods"===t.type?a("el-button",{on:{click:function(e){t.cancelImgUp(t.inputObj.index+t.inputObj.childrenIndex+"goods")}}},[t._v("取 消")]):t._e(),t._v(" "),"movable"===t.type?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.saveAndCommit(t.inputObj.index+"movable")}}},[t._v("上传图片")]):t._e(),t._v(" "),"goods"===t.type?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.saveAndCommit(t.inputObj.index+t.inputObj.childrenIndex+"goods")}}},[t._v("上传图片")]):t._e()],1)])]],2)},staticRenderFns:[]};var u=a("VU/8")(c,d,!1,function(t){a("Ttu/")},"data-v-48799354",null).exports,h={data:function(){return{sortValue:""}},mounted:function(){this.sortValue=this.inputIndex},computed:n()({},Object(o.b)({getOneObj:"classifyData/getOneObj",activeIndex:"classifyData/activeIndex",list:"classifyData/list"}),{getMovable:function(){if(this.list.length>0)return this.list[this.activeIndex].banner||[]}}),watch:{getMovable:function(){this.sortValue=this.inputIndex}},props:["noDelStatusList","inputIndex"],methods:{bannerChangeValue:function(t){this.$store.commit("classifyData/bannerChangeValue",{index:this.inputIndex,changeIndex:t})}}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sortItem"},[[a("el-select",{attrs:{placeholder:"请选择排序",size:"mini"},on:{change:t.bannerChangeValue},model:{value:t.sortValue,callback:function(e){t.sortValue=e},expression:"sortValue"}},t._l(t.noDelStatusList,function(t){return a("el-option",{key:"key"+t.value,attrs:{label:t.label,value:t.value}})}))]],2)},staticRenderFns:[]},f=a("VU/8")(h,p,!1,null,null,null).exports,m={props:{extname:{type:String,default:"1"}},data:function(){return{showMovable:!0,movableData:[{name:"mock名"}],delMovableObj:{showDelDialog:!1,index:null},switchObj:{showSwitchDialog:!1,copeSwitchStatus:!0},showStopAllDialog:!1,showDelAllDialog:!1,showSetAllButton:!1}},components:{imgUp:u,bannersortitem:f},watch:{activeIndex:function(){if(0!==this.list[this.activeIndex].banner.length){for(var t=0;t<this.list[this.activeIndex].banner.length;t++)if(0===this.list[this.activeIndex].banner[t].status)return void(this.showSetAllButton=!1);this.showSetAllButton=!0}else this.showSetAllButton=!1}},computed:n()({},Object(o.b)({getOneObj:"classifyData/getOneObj",activeIndex:"classifyData/activeIndex",list:"classifyData/list"}),{getMovable:function(){if(this.list.length>0)return this.list[this.activeIndex].banner},noDelStatusList:function(){for(var t=this.getMovable.filter(function(t){return-1!==t.status}),e=new Array(t.length).fill({}),a=JSON.parse(i()(e)),s=0;s<a.length;s++)e[s]={value:s,label:s+1};return e}}),methods:{newMovable:function(){this.list.length>0&&(this.getMovable.filter(function(t){return-1!==t.status}).length<=7?this.$store.commit("classifyData/pushMovable",{parentId:"",ext1:this.extname}):this.$message({message:"最多可配置8个活动！",type:"warning"}))},delMovable:function(t){this.delMovableObj.showDelDialog=!0,this.delMovableObj.index=t},setStatus:function(t,e){(this.$store.commit("classifyData/useOrStop",{index:t,status:e}),this.getMovable.every(function(t){return 0===t.status}))?this.showSetAllButton=!1:this.getMovable.every(function(t){return 1===t.status})?this.showSetAllButton=!0:this.getMovable.some(function(t){return 0===t.status})&&(this.showSetAllButton=!1)},movableCommitInput:function(t,e,a){this.$store.commit("classifyData/movableCommitInput",{index:t,value:e,type:a})},changeSwitch:function(t){t?(this.switchObj.copeSwitchStatus=this.showMovable,this.$store.commit("classifyData/changeSwitch",1)):this.switchObj.showSwitchDialog=!0},saveSwitch:function(){this.switchObj.copeSwitchStatus=!1,this.switchObj.showSwitchDialog=!1,this.$store.commit("classifyData/changeSwitch",0)},cancelSwitch:function(){this.showMovable=!0,this.switchObj.showSwitchDialog=!1},addRowClass:function(t){if(-1===t.row.status)return"delclass"},cancelDelDialog:function(){this.delMovableObj.showDelDialog=!1,this.delMovableObj.index=null},saveDelDialog:function(){this.$store.commit("classifyData/delMovable",this.delMovableObj.index),this.delMovableObj.showDelDialog=!1,this.delMovableObj.index=null},cancelSetDialog:function(){},saveSetDialog:function(){},stopAll:function(){this.$store.commit("classifyData/stopAllBanner",1),this.showStopAllDialog=!1,this.showSetAllButton=!0},startAll:function(){this.$store.commit("classifyData/stopAllBanner",0),this.showSetAllButton=!1},delAll:function(){this.$store.commit("classifyData/delAllBanner"),this.showDelAllDialog=!1}}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"movable"},[a("el-row",{staticClass:"row-header",attrs:{type:"flex"}},[a("el-col",{attrs:{span:3}},[a("span",{staticClass:"movable-title"},[t._v("广告专区")])]),t._v(" "),a("el-col",[t.showSetAllButton?a("el-button",{attrs:{type:"success"},on:{click:t.startAll}},[t._v("启用")]):a("el-button",{attrs:{type:"warning"},on:{click:function(e){t.showStopAllDialog=!0}}},[t._v("停用")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.showDelAllDialog=!0}}},[t._v("删除")])],1)],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.switchObj.copeSwitchStatus,expression:"switchObj.copeSwitchStatus"}]},[a("el-row",{staticClass:"button-margin",attrs:{type:"flex"}},[a("el-col",{attrs:{span:18}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.newMovable}},[t._v("新建广告")])],1)],1),t._v(" "),a("el-row",{staticClass:"button-margin"},[a("el-alert",{attrs:{title:"注1:排序默认按照添加的先后顺序升序排序，可根据需要自行调整。注2:跳转地址为H5时，请使用 bsdlks，例如 bsdlks://baidu.com",type:"warning",closable:!1}})],1),t._v(" "),a("el-row",{attrs:{type:"flex"}},[a("el-col",{attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.getMovable,border:"",size:"mini",stripe:""}},[a("el-table-column",{attrs:{prop:"name",label:"活动名称*"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{type:"textarea",autosize:"",placeholder:"请输入活动名称"},on:{input:function(a){t.movableCommitInput(e.$index,e.row.name,"name")}},model:{value:e.row.name,callback:function(a){t.$set(e.row,"name","string"==typeof a?a.trim():a)},expression:"scope.row.name"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"imgUrl",label:"轮播图*",width:"120"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("imgUp",{attrs:{type:"movable",inputObj:{index:t.$index,imgUrl:t.row.imgUrl}}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"gotoUrl",label:"跳转URL"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{type:"textarea",autosize:"",placeholder:"请输入活动跳转url"},on:{input:function(a){t.movableCommitInput(e.$index,e.row.gotoUrl,"gotoUrl")}},model:{value:e.row.gotoUrl,callback:function(a){t.$set(e.row,"gotoUrl","string"==typeof a?a.trim():a)},expression:"scope.row.gotoUrl"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"所在页面",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.getOneObj.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"排序",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("bannersortitem",{attrs:{noDelStatusList:t.noDelStatusList,inputIndex:e.$index}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"doing",label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-row",[0===e.row.status?a("el-button",{attrs:{type:"warning",icon:"el-icon-edit",size:"mini"},on:{click:function(a){t.setStatus(e.$index,1)}}},[t._v("停用")]):t._e(),t._v(" "),1===e.row.status?a("el-button",{attrs:{type:"success",icon:"el-icon-edit",size:"mini"},on:{click:function(a){t.setStatus(e.$index,0)}}},[t._v("启用")]):t._e(),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){t.delMovable(e.$index)}}},[t._v("删除")])],1)]}}])})],1)],1)],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"删除提示",visible:t.delMovableObj.showDelDialog,width:"30%"},on:{"update:visible":function(e){t.$set(t.delMovableObj,"showDelDialog",e)}}},[a("span",[t._v("删除后将不可恢复，确认要删除当前的活动分类吗？")]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancelDelDialog}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.saveDelDialog}},[t._v("确 定")])],1)]),t._v(" "),a("el-dialog",{attrs:{title:"关闭活动专区提示",visible:t.switchObj.showSwitchDialog,width:"30%"},on:{"update:visible":function(e){t.$set(t.switchObj,"showSwitchDialog",e)}}},[a("span",[t._v("关闭后，客户端不展现活动专区，确认要关闭吗？")]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancelSwitch}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.saveSwitch}},[t._v("确 定")])],1)]),t._v(" "),a("el-dialog",{attrs:{title:"停用提示",visible:t.showStopAllDialog,width:"30%"},on:{"update:visible":function(e){t.showStopAllDialog=e}}},[a("span",[t._v("确认要停用当前广告专区的全部广告？")]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.showStopAllDialog=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.stopAll}},[t._v("确 定")])],1)]),t._v(" "),a("el-dialog",{attrs:{title:"删除提示",visible:t.showDelAllDialog,width:"30%"},on:{"update:visible":function(e){t.showDelAllDialog=e}}},[a("span",[t._v("确认要删除当前广告专区的全部广告？")]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.showDelAllDialog=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.delAll}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]};var g=a("VU/8")(m,v,!1,function(t){a("tJCH"),a("YiL1")},"data-v-5068308a",null).exports,b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"coupon"},[a("el-row",{staticClass:"row-header",attrs:{type:"flex"}},[a("el-col",{attrs:{span:16}},[a("span",{staticClass:"movable-title"},[t._v("优惠券专区")])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"movable-switch"},[a("el-row",{attrs:{type:"flex"}},[a("el-col",{attrs:{span:20}},[a("span",[t._v("展示模块（关闭后，客户端不展现）")])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.showMovable,callback:function(e){t.showMovable=e},expression:"showMovable"}})],1)],1)],1)])],1),t._v(" "),a("el-row",{staticClass:"button-margin",attrs:{type:"flex"}},[a("el-col",{attrs:{span:24}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.openCouponDialog}},[t._v("选择优惠券")])],1)],1),t._v(" "),a("el-row",{attrs:{type:"flex"}},[a("el-col",{attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.movableData,border:"",size:"medium"}},[a("el-table-column",{attrs:{prop:"name",label:"优惠券名称*"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型*",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"description",label:"描述"}}),t._v(" "),a("el-table-column",{attrs:{prop:"pageIn",label:"所在页面",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"doing",label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-row",[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){t.delMovable(e.$index)}}},[t._v("删除")])],1)]}}])})],1)],1)],1)],1)},staticRenderFns:[]};var y=a("VU/8")({data:function(){return{showCouponDialog:!1,showMovable:!0,movableData:[{name:"mock名"}]}},methods:{delMovable:function(t){this.movableData.splice(t,1)},openCouponDialog:function(){this.showCouponDialog=!0}}},b,!1,function(t){a("RQLB")},null,null).exports,w={data:function(){return{dialogVisible:!1,listData:[],clickIndex:0,sortIndex:0}},computed:Object(o.b)({list:"classifyData/list",activeIndex:"classifyData/activeIndex"}),methods:{deleteItem:function(){this.dialogVisible=!0},changeStatus:function(t){this.listData[this.clickIndex].status=0===t?1:0,this.$store.commit("classifyData/setList",this.listData)},sortChange:function(t){this.$store.commit("classifyData/firstSort",{index:this.clickIndex,changeIndex:t})},juadgeName:function(t){var e=0;if(""===t?(this.$message.error("名字不能为空哦！"),this.$refs.name.focus()):this.listData.forEach(function(a,s){t===a.name&&(e+=1)}),e>1)this.$message.error("不能创建一样的名字哦！"),this.listData[this.clickIndex].name="",this.$refs.name.focus();else{/^[\u4e00-\u9fa5]{2,6}$/.test(t)?this.$store.commit("classifyData/setList",this.listData):this.$message.error("请输入2-6个汉字！")}},noDelStatusList:function(){for(var t=this.listData.filter(function(t){return-1!==t.status}),e=new Array(t.length).fill({}),a=JSON.parse(i()(e)),s=0;s<a.length;s++)e[s]={value:s,label:s+1};return e},sureDelete:function(){this.dialogVisible=!1;var t=this.listData[this.clickIndex];if(t.id){t.status=-1;var e=t.banner,a=t.children;e.length>0&&e.forEach(function(t,e){t.status=-1}),a.length>0&&a.forEach(function(t,e){(t.status=-1,t.children&&t.children.length>0)&&t.children.forEach(function(t,e){t.status=-1})}),this.$store.commit("classifyData/delFirstData",t)}this.listData.splice(this.clickIndex,1),this.clickIndex=0,this.$store.commit("classifyData/setActiveIndex",this.clickIndex),this.$store.commit("classifyData/setList",this.listData)}},watch:{list:function(t){this.listData=t},activeIndex:function(t){this.clickIndex=t,this.sortIndex=t},sortIndex:function(t){this.clickIndex=t,this.$store.commit("classifyData/setActiveIndex",this.clickIndex)}}},x={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.listData.length>0&&-1!==t.listData[t.activeIndex].status?a("div",{staticClass:"setside"},[a("span",[t._v("一级分类：\n      "),a("el-input",{ref:"name",attrs:{placeholder:"请输入一级分类名称"},on:{blur:function(e){t.juadgeName(t.listData[t.clickIndex].name)}},model:{value:t.listData[t.clickIndex].name,callback:function(e){t.$set(t.listData[t.clickIndex],"name",e)},expression:"listData[clickIndex].name"}})],1),t._v(" "),a("span",{staticClass:"margin"},[t._v("排序：\n      "),a("el-select",{attrs:{placeholder:"请选择排序",size:"medium"},on:{change:t.sortChange},model:{value:t.sortIndex,callback:function(e){t.sortIndex=e},expression:"sortIndex"}},t._l(t.noDelStatusList(),function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),0===t.listData[t.clickIndex].status?a("el-button",{attrs:{type:"warning"},on:{click:function(e){t.changeStatus(t.listData[t.clickIndex].status)}}},[t._v("停用")]):t._e(),t._v(" "),1===t.listData[t.clickIndex].status?a("el-button",{attrs:{type:"success"},on:{click:function(e){t.changeStatus(t.listData[t.clickIndex].status)}}},[t._v("启用")]):t._e(),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:t.deleteItem}},[t._v("删除")]),t._v(" "),a("el-dialog",{attrs:{title:"删除提示",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("span",[t._v("删除后将不可恢复，确认要删除当前的一级分类吗？")]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.sureDelete}},[t._v("确 定")])],1)])],1):t._e()},staticRenderFns:[]};var D=a("VU/8")(w,x,!1,function(t){a("PiAG")},"data-v-7b28f869",null).exports,_={props:["goodsListObj"],data:function(){return{}},filters:{parsePrice:function(t){return Number(t)/100}}},I={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"搜索词: "+this.goodsListObj.word+" 搜到得商品预览",visible:t.goodsListObj.showGoodsList,width:"80%"},on:{"update:visible":function(e){t.$set(t.goodsListObj,"showGoodsList",e)}}},[a("el-table",{attrs:{data:t.goodsListObj.data,"max-height":"500"}},[a("el-table-column",{attrs:{property:"id",label:"商品id"}}),t._v(" "),a("el-table-column",{attrs:{property:"p_from",label:"商品来源"}}),t._v(" "),a("el-table-column",{attrs:{label:"图片"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{attrs:{src:t.row.g_img,alt:"",width:"100px"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"g_title",label:"名称"}}),t._v(" "),a("el-table-column",{attrs:{property:"g_price",label:"价格(元)"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("parsePrice")(e.row.g_price)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"g_gategory_3",label:"类目"}})],1)],1)},staticRenderFns:[]},k=a("VU/8")(_,I,!1,null,null,null).exports,S={data:function(){return{sortValue:""}},mounted:function(){"two"===this.type?this.sortValue=this.inputIndex:"three"===this.type&&(this.sortValue=this.childrenIndex)},computed:n()({},Object(o.b)({getOneObj:"classifyData/getOneObj",activeIndex:"classifyData/activeIndex",list:"classifyData/list"}),{childData:function(){if(this.list.length>0&&null!==this.activeIndex)return this.list[this.activeIndex].children},threeList:function(){return this.list[this.activeIndex].children[this.inputIndex].children}}),watch:{childData:function(){"two"===this.type&&(this.sortValue=this.inputIndex)},threeList:function(){"three"===this.type&&(this.sortValue=this.childrenIndex)}},props:["noDelStatusList","inputIndex","type","threeNoDelStatusList","childrenIndex"],methods:{changeValue:function(t){console.log(this.inputIndex),console.log(t),this.$store.commit("classifyData/setSelectSort",{index:this.inputIndex,changeIndex:t})},threeChangeValue:function(t){this.$store.commit("classifyData/setThreeSelectSort",{index:this.inputIndex,childrenIndex:this.childrenIndex,changeIndex:t})}}},C={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sortItem"},["two"===t.type?[a("el-select",{attrs:{placeholder:"请选择排序",size:"mini"},on:{change:t.changeValue},model:{value:t.sortValue,callback:function(e){t.sortValue=e},expression:"sortValue"}},t._l(t.noDelStatusList,function(e){return a("el-option",{key:"key"+t.inputIndex+e.value,attrs:{label:e.label,value:e.value}})}))]:t._e(),t._v(" "),"three"===t.type?[a("el-select",{attrs:{placeholder:"请选择排序",size:"mini"},on:{change:t.threeChangeValue},model:{value:t.sortValue,callback:function(e){t.sortValue=e},expression:"sortValue"}},t._l(t.threeNoDelStatusList,function(e){return a("el-option",{key:"key"+t.inputIndex+e.value,attrs:{label:e.label,value:e.value}})}))]:t._e()],2)},staticRenderFns:[]},O=a("VU/8")(S,C,!1,null,null,null).exports,$=a("BO1k"),j=a.n($),T=a("d7EF"),L=a.n(T),A=a("Xxa5"),V=a.n(A),B=a("exGp"),U=a.n(B),W={data:function(){return{selectValue:"keyWord",urlModel:"",keyWordModel:"",autoClass:[],autoBrand:[],autoKeyword:"",searchClassData:[],searchBrandData:[],loading:!1,dialogBol:!1,classAllData:[],brandAllData:[],brandBol:!1,classPageConfig:{currentPage:1,pageSize:100},brandPageConfig:{currentPage:1,pageSize:100},searchTarget:""}},props:["urlValue","keyWordValue","inputObj"],computed:{serializeData:function(){var t=this.autoKeyword;return t=t.split(/,|，/),this.autoClass.join(":")+","+this.autoBrand.join(":")+","+t.join(":")},nowAllData:function(){return"class"===this.searchTarget?this.classAllData:this.brandAllData}},mounted:function(){var t=this;this.urlModel=this.urlValue||"",this.keyWordModel=this.keyWordValue||"",this.keyWordValue?this.selectValue="keyWord":this.urlValue?this.selectValue="url":this.keyWordValue&&this.urlValue&&(this.selectValue="keyWord"),this.keyWordModel.split(",").forEach(function(e,a){0===a?t.autoClass=e.split(":").filter(function(t){return""!==t}):1===a?t.autoBrand=e.split(":").filter(function(t){return""!==t}):2===a&&(t.autoKeyword=e.split(":").join(","))}),this.fetchConfigData()},methods:{childCommitInput:function(){this.$store.commit("classifyData/childCommitInput",{index:this.inputObj.index,value:this.urlModel,type:"gotoUrl",childrenIndex:this.inputObj.childrenIndex})},commitKeyWord:function(){this.$store.commit("classifyData/childCommitInput",{index:this.inputObj.index,value:this.serializeData,type:"searchWords",childrenIndex:this.inputObj.childrenIndex})},searchClassSuggest:function(t){var e=this;""!==t&&(this.loading=!0,Object(r.d)({words:t,type:1}).then(function(t){e.searchClassData=t.data,e.loading=!1}).catch(function(t){console.log(t),e.loading=!1}))},searchBrandSuggest:function(t){var e=this;return U()(V.a.mark(function a(){return V.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(""!==t){a.next=2;break}return a.abrupt("return");case 2:e.loading=!0,Object(r.d)({words:t,type:2}).then(function(t){e.searchBrandData=t.data,e.loading=!1}).catch(function(t){console.log(t),e.loading=!1});case 4:case"end":return a.stop()}},a,e)}))()},classAlreadySel:function(t){return-1!==("class"===this.searchTarget?this.classAllData:this.brandAllData).indexOf(t)?"el-icon-success":"el-icon-error"},openAllDataDialog:function(t){this.searchTarget=t,this.dialogBol=!0,this.fetchConfigData()},fetchConfigData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;this.classPageConfig={pageSize:a,currentPage:e};var s=void 0,i={currentPage:e,pageSize:a,words:"",type:s="class"===this.searchTarget?1:2};Object(r.d)(i).then(function(e){var a=e.data.dataList.map(function(e){var a={name:e,select:!1};return-1!==("class"===t.searchTarget?t.autoClass:t.autoBrand).indexOf(e)&&(a.select=!0),a});1===s?t.classAllData=a:t.brandAllData=a,t.classPageConfig.total=e.data.totalSize}).catch(function(t){console.log(t)})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.fetchConfigData(void 0,t)},handleCurrentChange:function(t){var e=this;return U()(V.a.mark(function a(){return V.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:console.log("当前页 "+t+" 条"),e.fetchConfigData(t);case 2:case"end":return a.stop()}},a,e)}))()},handlerSelectClass:function(t){t.select=!t.select;var e="class"===this.searchTarget?this.autoClass:this.autoBrand;if(t.select)e.push(t.name);else{var a=e.indexOf(t.name);-1!==a&&e.splice(a,1)}},removeTag:function(t){var e="class"===this.searchTarget?this.classAllData:this.brandAllData,a=!0,s=!1,i=void 0;try{for(var l,n=j()(e.entries());!(a=(l=n.next()).done);a=!0){var o=l.value,r=L()(o,2)[1];if(t===r.name){r.select=!1;break}}}catch(t){s=!0,i=t}finally{try{!a&&n.return&&n.return()}finally{if(s)throw i}}},copyKeyWord:function(){0!==this.autoClass.length?(this.$store.commit("classifyData/copyClipBoard",{type:"autoClass",value:this.autoClass}),this.$message({message:"已复制分类",type:"success"})):this.$message.error("分类为空，无法复制")},copyBrand:function(){0!==this.autoBrand.length?(this.$store.commit("classifyData/copyClipBoard",{type:"autoBrand",value:this.autoBrand}),this.$message({message:"已复制品牌",type:"success"})):this.$message.error("品牌为空，无法复制")},affixClass:function(){var t=this,e=this.$store.state.classifyData.classClipBoard.value;0!==e.length?(e.forEach(function(e){-1===t.autoClass.indexOf(e)&&t.autoClass.push(e)}),this.$message({message:"已粘贴",type:"success"})):this.$message.error("无法粘贴，请先复制分类")},affixBrand:function(){var t=this,e=this.$store.state.classifyData.brandClipBoard.value;0!==e.length?(e.forEach(function(e){-1===t.autoBrand.indexOf(e)&&t.autoBrand.push(e)}),this.$message({message:"已粘贴",type:"success"})):this.$message.error("无法粘贴,请先复制品牌")}},watch:{serializeData:function(){this.commitKeyWord()},keyWordValue:function(t){var e=this;this.keyWordModel=t;var a=this.keyWordModel.split(",");this.autoClass=[],this.autoBrand=[],this.autoKeyword="",a.forEach(function(t,a){0===a?e.autoClass=t.split(":").filter(function(t){return""!==t}):1===a?e.autoBrand=t.split(":").filter(function(t){return""!==t}):2===a&&(e.autoKeyword=t.split(":").join(","))})}}},K={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"keywordOrURL"},[a("div",{staticClass:"class-wrap"},[a("el-select",{staticStyle:{width:"90px"},attrs:{placeholder:"请选择"},model:{value:t.selectValue,callback:function(e){t.selectValue=e},expression:"selectValue"}},[a("el-option",{key:"keyWord",attrs:{label:"搜索词",value:"keyWord"}}),t._v(" "),a("el-option",{key:"url",attrs:{label:"URL",value:"url"}})],1),t._v(" "),"url"===t.selectValue?a("el-input",{staticStyle:{width:"200px"},attrs:{type:"textarea",autosize:"",placeholder:"请输入URL(选填)"},on:{input:t.childCommitInput},model:{value:t.urlModel,callback:function(e){t.urlModel="string"==typeof e?e.trim():e},expression:"urlModel"}}):t._e(),t._v(" "),a("div",{staticClass:"allClass"},["keyWord"===t.selectValue?a("el-select",{staticClass:"mb20",staticStyle:{width:"130px"},attrs:{inline:"",placeholder:"请输入分类(选填)",multiple:"",filterable:"",remote:"",loading:t.loading,"loading-text":"加载中。。。","remote-method":t.searchClassSuggest},on:{"remove-tag":t.removeTag},model:{value:t.autoClass,callback:function(e){t.autoClass=e},expression:"autoClass"}},t._l(t.searchClassData,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})})):t._e(),t._v(" "),a("el-button",{staticClass:"mb10",on:{click:function(e){t.openAllDataDialog("class")}}},[t._v("查看全部分类")]),t._v(" "),a("el-button",{staticClass:"mb10",on:{click:t.copyKeyWord}},[t._v("复制分类")]),t._v(" "),a("el-button",{on:{click:t.affixClass}},[t._v("粘贴分类")])],1),t._v(" "),a("div",{staticClass:"brand"},["keyWord"===t.selectValue?a("el-select",{staticClass:"mb20",staticStyle:{width:"130px"},attrs:{inline:"",placeholder:"请输入品牌(选填)",multiple:"",filterable:"",remote:"",loading:t.loading,"loading-text":"加载中。。。","remote-method":t.searchBrandSuggest},model:{value:t.autoBrand,callback:function(e){t.autoBrand=e},expression:"autoBrand"}},t._l(t.searchBrandData,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})})):t._e(),t._v(" "),a("el-button",{staticClass:"mb10",on:{click:function(e){t.openAllDataDialog("brand")}}},[t._v("查看全部品牌")]),t._v(" "),a("el-button",{staticClass:"mb10",on:{click:t.copyBrand}},[t._v("复制品牌")]),t._v(" "),a("el-button",{on:{click:t.affixBrand}},[t._v("粘贴品牌")])],1),t._v(" "),"keyWord"===t.selectValue?a("el-input",{staticStyle:{width:"150px"},attrs:{inline:"",type:"text",placeholder:"请输入关键词，用连字符“-”分隔(必填)"},model:{value:t.autoKeyword,callback:function(e){t.autoKeyword=e},expression:"autoKeyword"}}):t._e()],1),t._v(" "),a("el-dialog",{attrs:{width:"800px",title:"请直接选择分类",visible:t.dialogBol},on:{"update:visible":function(e){t.dialogBol=e}}},[a("div",t._l(t.nowAllData,function(e,s){return a("el-button",{key:s,staticClass:"class-btn",attrs:{type:"primary",icon:e.select?"el-icon-check":""},on:{click:function(a){t.handlerSelectClass(e)}}},[t._v(t._s(e.name))])})),t._v(" "),a("div",{staticClass:"padding-wrap pagination-wrap"},[a("el-pagination",{attrs:{background:"","current-page":t.classPageConfig.currentPage,"page-sizes":[10,30,60,100,200,500,1e3],"page-size":t.classPageConfig.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.classPageConfig.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},[t._v("\n              >")])],1)])],1)},staticRenderFns:[]};var E=a("VU/8")(W,K,!1,function(t){a("EX6K")},"data-v-5d2c2198",null).exports,M={props:{extname:{type:String,default:"1"}},data:function(){return{inputExcelDemo:[{one:"为你推荐",two:"美容彩妆",three:"口红",keyword:"口红，唇膏，唇釉，唇蜜，唇霜"}],fileList:[],showInputExcel:!1,input1:"",showSetKeyworld:!1,showAddTagDialog:!1,deleteDialogVisible:!1,pickStyleObj:{pickStyle:"",index:""},styleArr:[{value:2,label:"2列"},{value:3,label:"3列"}],showSelectStyle:!1,showCouponDialog:!1,showMovable:!0,showChildDataDialog:!1,addChildDataObj:{name:"",formLabelWidth:"100px"},addKeyWordObj:{twoName:"",threeName:"",words:[],index:"",childrenIndex:"",newTag:"",type:"add",setIndex:null},goodsListObj:{showGoodsList:!1,data:[],word:""},deleteObj:null,isTwo:!0,scroll:null}},components:{imgUp:u,goodsList:k,sortItem:O,keywordOrURL:E},computed:n()({},Object(o.b)({getOneObj:"classifyData/getOneObj",activeIndex:"classifyData/activeIndex",list:"classifyData/list",clickThreeDisplay:"classifyData/clickThreeDisplay"}),{childData:function(){if(this.list.length>0&&null!==this.activeIndex)return this.list[this.activeIndex].children},noDelStatusList:function(){for(var t=this.childData.filter(function(t){return-1!==t.status}),e=new Array(t.length).fill({}),a=JSON.parse(i()(e)),s=0;s<a.length;s++)e[s]={value:s,label:s+1};return e},mergeClickThreeDisplay:function(){return this.clickThreeDisplay.index+"-"+this.clickThreeDisplay.childrenIndex}}),methods:{threeNoDelStatusList:function(t){for(var e=t.filter(function(t){return-1!==t.status}),a=JSON.parse(i()(e)),s=new Array(a.length).fill({}),l=0;l<s.length;l++)s[l]={value:l,label:l+1};return s},computedDelIndex:function(t){var e=t;return this.childData.forEach(function(t){-1===t.status&&(e-=1)}),e},handleClose:function(t){this.addKeyWordObj.words.splice(this.addKeyWordObj.words.indexOf(t),1)},delMovable:function(t){this.movableData.splice(t,1)},openCouponDialog:function(){this.showCouponDialog=!0},selectStyle:function(t,e){this.pickStyleObj.pickStyle=e.style,this.pickStyleObj.index=t,this.showSelectStyle=!0},setStyle:function(){console.log(this.pickStyleObj),this.$store.commit("classifyData/setStyle",this.pickStyleObj),this.showSelectStyle=!1},changeStyle:function(t,e){console.log(t,e),this.$store.commit("classifyData/setStyle",{index:t,pickStyle:e})},openSetKeyWord:function(t,e,a){this.addKeyWordObj.index=t,this.addKeyWordObj.childrenIndex=e,this.addKeyWordObj.twoName=a.name,this.addKeyWordObj.threeName=this.childData[t].children[e].name||"",this.addKeyWordObj.words=JSON.parse(i()(this.childData[t].children[e].words||[])),this.showSetKeyworld=!0},closeAddTagDialog:function(){this.showAddTagDialog=!1,this.addKeyWordObj.newTag=""},commmitAddTagDialog:function(){if(this.addKeyWordObj.newTag)if("add"===this.addKeyWordObj.type){var t=String(this.addKeyWordObj.newTag);this.addKeyWordObj.words.push(t),this.showAddTagDialog=!1,this.addKeyWordObj.newTag=""}else{var e=String(this.addKeyWordObj.newTag);this.addKeyWordObj.words[this.addKeyWordObj.setIndex]=e,this.showAddTagDialog=!1,this.addKeyWordObj.newTag=""}else this.$message.error("标签名不能为空")},addNewTag:function(){this.addKeyWordObj.type="add",this.addKeyWordObj.setIndex=null,this.showAddTagDialog=!0},handleCloseTag:function(t,e){this.addKeyWordObj.words.splice(e,1)},setTag:function(t,e){this.showAddTagDialog=!0,this.addKeyWordObj.newTag=t,this.addKeyWordObj.type="set",this.addKeyWordObj.setIndex=e},saveKeyWord:function(){this.$store.commit("classifyData/saveKeyWord",{index:this.addKeyWordObj.index,childrenIndex:this.addKeyWordObj.childrenIndex,words:this.addKeyWordObj.words,searchWords:this.addKeyWordObj.words.join(",")}),this.showSetKeyworld=!1,this.addKeyWordObj={twoName:"",threeName:"",words:[],index:"",childrenIndex:"",newTag:""}},openInputExcel:function(){this.showInputExcel=!0},setStatus:function(t,e){this.$store.commit("classifyData/setChildDataStatus",{index:t,status:e,isTwo:!0})},setChildStatus:function(t,e,a){this.$store.commit("classifyData/setChildDataStatus",{index:t,status:a,childrenIndex:e,isTwo:!1})},handleDelete:function(t,e){this.deleteDialogVisible=!0,this.deleteObj=t,this.isTwo=e},sureDelete:function(){this.deleteDialogVisible=!1,this.$store.commit("classifyData/delChildData",{isTwo:this.isTwo,index:this.deleteObj.index,childrenIndex:this.deleteObj.childrenIndex})},openChildDataDialog:function(){this.$store.commit("classifyData/addChildDataItem",{parentId:+this.getOneObj.parentId,name:this.addChildDataObj.name,ext1:this.extname})},addChildDataItem:function(){this.$store.commit("classifyData/addChildDataItem",{parentId:+this.getOneObj.parentId,name:this.addChildDataObj.name,ext1:this.extname}),this.showChildDataDialog=!1,this.addChildDataObj.name=""},addThreeItem:function(t,e){this.$store.commit("classifyData/addThreeItem",{parentId:e.row.parentId,index:t,ext1:this.extname})},childCommitInput:function(t,e,a,s){this.$store.commit("classifyData/childCommitInput",{index:t,value:e,type:s,childrenIndex:a})},blurAndTestThree:function(t,e,a,s){for(var i=this.list[this.activeIndex].children[t].children,l=0;l<i.length;l++)if(l!==a&&i[l].name===e)return this.$message.error("不能创建同样的名字哦！"),void this.$store.commit("classifyData/childCommitInput",{type:s,index:t,value:"",childrenIndex:a});this.$store.commit("classifyData/childCommitInput",{type:s,index:t,value:e,childrenIndex:a})},addRowClass:function(t){if(-1===t.row.status)return"delclass"},watchPage:function(t,e,a){var s=this,i="";if(e)i=e,this.goodsListObj.word=i;else{if(!a.row.name)return void this.$message.error("关键词为空,无法查看");i=a.row.name,this.goodsListObj.word=i}("1"===this.extname?r.f:r.g)({searchWords:i}).then(function(t){s.goodsListObj.data=t.data,s.goodsListObj.showGoodsList=!0}).catch(function(t){s.$message.error(t)})},beforeUploadExcel:function(t,e){if(!(t.size/1024<2048))return this.$message.error("上传Excel大小不能超过 2MB!"),!1},excelService:function(t){var e=this,a=t.file,s=new FormData;s.append("file",a),s.append("type",this.extname),Object(r.h)(s).then(function(t){e.open2(),t.data.forEach(function(t){e.$store.commit("classifyData/pushExcelItem",t)}),e.showInputExcel=!1,e.$refs.excelRef.clearFiles()}).catch(function(t){e.open4(t),e.showInputExcel=!1,e.$refs.excelRef.clearFiles()})},open2:function(){this.$message({message:"恭喜你，Excel文件上传成功",type:"success"})},open4:function(t){this.$message.error("Excel上传失败"+t)},actionExcelUrl:function(){return"localhost:8088/vain/api/search/import"},submitExcel:function(){this.$refs.excelRef.submit()},cancelShowInputExcel:function(){this.showInputExcel=!1,this.$refs.excelRef.clearFiles()},twoNameInput:function(t,e){},blurAndTest:function(t,e){var a=this.list[this.activeIndex].children;console.log(a);for(var s=0;s<a.length;s++)if(s!==t&&a[s].name===e)return this.$message.error("不能创建同样的名字哦！"),void this.$store.commit("classifyData/twoNameInput",{activeIndex:this.activeIndex,index:t,value:""});this.$store.commit("classifyData/twoNameInput",{activeIndex:this.activeIndex,index:t,value:e})},towSortUp:function(t){this.$store.commit("classifyData/towSortUp",{index:t,nextIndex:t-1,activeIndex:this.activeIndex})},twoSortDown:function(t){this.$store.commit("classifyData/twoSortDown",{index:t,nextIndex:t+1,activeIndex:this.activeIndex})},threeSortUp:function(t,e){this.$store.commit("classifyData/threeSortUp",{index:t,childrenIndex:e,nextIndex:e-1,activeIndex:this.activeIndex})},threeSortDown:function(t,e){this.$store.commit("classifyData/threeSortDown",{index:t,childrenIndex:e,nextIndex:e+1,activeIndex:this.activeIndex})},animateScroll:function(t,e){var a=t.getBoundingClientRect(),s=window.pageYOffset+a.top,i=0,l=void 0;window.requestAnimationFrame(function t(a){(i+=e)<=s?(window.scrollTo(0,i),l=window.requestAnimationFrame(t)):window.cancelAnimationFrame(l)})},addRowName:function(t){return"twoTable-"+t.rowIndex}},mounted:function(){},watch:{mergeClickThreeDisplay:function(t){var e=this;console.log("scroll");try{if(""!==this.clickThreeDisplay.index){var a=document.querySelector(".twoTable-"+this.clickThreeDisplay.index);if(-1===[].slice.call(a.classList).indexOf("expanded"))a.querySelector(".el-table__expand-icon").click();var s="three-input"+this.clickThreeDisplay.index+this.clickThreeDisplay.childrenIndex,i=document.querySelector("."+s);setTimeout(function(){e.$refs[s].focus()},100),this.animateScroll(i,400),this.$store.commit("classifyData/clickThreeDisplay",{index:"",childrenIndex:""})}}catch(t){console.log("表格未展开")}}}},N={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"goods"},[a("el-row",{staticClass:"row-header",attrs:{type:"flex"}},[a("el-col",{attrs:{span:24}},[a("span",{staticClass:"movable-title"},[t._v("商品分类")])])],1),t._v(" "),a("el-row",{staticClass:"button-margin",attrs:{type:"flex"}},[a("el-col",{attrs:{span:3}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.openChildDataDialog}},[t._v("添加二级分类")])],1),t._v(" "),a("el-col",{attrs:{offset:1}},[a("el-button",{attrs:{type:"info",icon:"el-icon-sold-out"},on:{click:t.openInputExcel}},[t._v("一键导入")])],1)],1),t._v(" "),a("el-row",{staticClass:"button-margin"},[a("el-alert",{attrs:{title:"注1:排序默认按照添加的先后顺序升序排序，可根据需要自行调整。注2:跳转地址为H5时，请使用 bsdlks，例如 bsdlks://baidu.com",type:"warning",closable:!1}}),t._v(" "),a("el-alert",{attrs:{title:"关键词规则：类目，品牌，关键词，其中任意为空以英文冒号隔开，三个词之间以英文逗号隔开，新的搜索规则需要这么配置",type:"warning",closable:!1}})],1),t._v(" "),a("el-row",{attrs:{type:"flex"}},[a("el-col",{attrs:{span:24}},[a("el-table",{attrs:{data:t.childData,"row-class-name":t.addRowName,stripe:""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-table",{attrs:{data:e.row.children,stripe:""}},[a("el-table-column",{attrs:{label:"分类名称*",width:"130"},scopedSlots:t._u([{key:"default",fn:function(s){return[a("el-input",{ref:"three-input"+e.$index+s.$index,class:"three-input"+e.$index+s.$index,attrs:{type:"textarea",autosize:"",placeholder:"请输入名称"},on:{blur:function(a){t.blurAndTestThree(e.$index,s.row.name,s.$index,"name")}},model:{value:s.row.name,callback:function(e){t.$set(s.row,"name","string"==typeof e?e.trim():e)},expression:"scope.row.name"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"分类图片*",width:"100"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("imgUp",{attrs:{type:"goods",inputObj:{index:e.$index,childrenIndex:t.$index,imgUrl:t.row.imgUrl}}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"关联关键词/URL",width:"540"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("keywordOrURL",{attrs:{urlValue:t.row.gotoUrl,keyWordValue:t.row.searchWords,inputObj:{index:e.$index,childrenIndex:t.$index}}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"预览",width:"70"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"table-button",attrs:{type:"primary",size:"mini"},on:{click:function(a){t.watchPage(e.row.gotoUrl,e.row.searchWords,e)}}},[t._v("预览")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"排序"},scopedSlots:t._u([{key:"default",fn:function(s){return[a("sortItem",{attrs:{threeNoDelStatusList:t.threeNoDelStatusList(e.row.children),inputIndex:e.$index,childrenIndex:s.$index,type:"three"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(s){return[0===s.row.status?a("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(a){t.setChildStatus(e.$index,s.$index,1)}}},[t._v("停用")]):t._e(),t._v(" "),1===s.row.status?a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){t.setChildStatus(e.$index,s.$index,0)}}},[t._v("启用")]):t._e(),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.handleDelete({index:e.$index,childrenIndex:s.$index},!1)}}},[t._v("删除")])]}}])}),t._v(" "),a("template",{slot:"append"},[a("el-button",{staticClass:"table-button",attrs:{icon:"el-icon-plus",type:"primary"},on:{click:function(a){t.addThreeItem(e.$index,e)}}},[t._v("添加三级分类")])],1)],2)],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"分类名称*"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{type:"textarea",autosize:"",placeholder:"请输入二级分类名称"},on:{input:function(a){t.twoNameInput(e.$index,e.row.name)},blur:function(a){t.blurAndTest(e.$index,e.row.name)}},model:{value:e.row.name,callback:function(a){t.$set(e.row,"name","string"==typeof a?a.trim():a)},expression:"scope.row.name"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"排序"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("sortItem",{attrs:{noDelStatusList:t.noDelStatusList,showValue:t.noDelStatusList[e.$index],inputIndex:e.$index,type:"two"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"选择样式"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{attrs:{placeholder:"选择样式"},on:{change:function(a){t.changeStyle(e.$index,e.row.style)}},model:{value:e.row.style,callback:function(a){t.$set(e.row,"style",a)},expression:"scope.row.style"}},[a("el-option",{key:33333,attrs:{label:"三列",value:3}}),t._v(" "),a("el-option",{key:22222,attrs:{label:"两列",value:2}})],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.status?a("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(a){t.setStatus(e.$index,1)}}},[t._v("停用")]):t._e(),t._v(" "),1===e.row.status?a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){t.setStatus(e.$index,0)}}},[t._v("启用")]):t._e(),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.handleDelete({index:e.$index},!0)}}},[t._v("删除")])]}}])})],1)],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"设置关键词",visible:t.showSetKeyworld,width:"30%"},on:{"update:visible":function(e){t.showSetKeyworld=e}}},[a("el-row",{staticClass:"button-margin"},[a("el-col",{attrs:{span:5}},[a("span",[t._v("一级分类")])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{placeholder:"请输入内容",disabled:!0},model:{value:t.getOneObj.name,callback:function(e){t.$set(t.getOneObj,"name","string"==typeof e?e.trim():e)},expression:"getOneObj.name"}})],1)],1),t._v(" "),a("el-row",{staticClass:"button-margin"},[a("el-col",{attrs:{span:5}},[a("span",[t._v("二级分类")])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{placeholder:"请输入内容",disabled:!0},model:{value:t.addKeyWordObj.twoName,callback:function(e){t.$set(t.addKeyWordObj,"twoName","string"==typeof e?e.trim():e)},expression:"addKeyWordObj.twoName"}})],1)],1),t._v(" "),a("el-row",{staticClass:"button-margin"},[a("el-col",{attrs:{span:5}},[a("span",[t._v("三级分类")])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{placeholder:"请输入内容",disabled:!0},model:{value:t.addKeyWordObj.threeName,callback:function(e){t.$set(t.addKeyWordObj,"threeName",e)},expression:"addKeyWordObj.threeName"}})],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:5}},[a("span",[t._v("搜索关键词")])]),t._v(" "),a("el-col",{attrs:{span:19}},[a("el-row",{staticClass:"button-margin"},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:function(e){t.addNewTag()}}},[t._v("新标签")])],1),t._v(" "),a("el-dialog",{attrs:{width:"30%",title:"增加新标签",visible:t.showAddTagDialog,"append-to-body":""},on:{"update:visible":function(e){t.showAddTagDialog=e}}},[a("el-row",{staticClass:"button-margin"},[a("el-col",{attrs:{span:5}},[a("span",[t._v("标签名")])]),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{placeholder:"请输入新增标签名",maxlength:12},model:{value:t.addKeyWordObj.newTag,callback:function(e){t.$set(t.addKeyWordObj,"newTag","string"==typeof e?e.trim():e)},expression:"addKeyWordObj.newTag"}})],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.closeAddTagDialog}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.commmitAddTagDialog}},[t._v("确 定")])],1)],1),t._v(" "),a("el-row",{staticClass:"tag-box"},t._l(t.addKeyWordObj.words,function(e,s){return a("div",{key:e+s,staticStyle:{display:"inline-block"},on:{click:function(a){t.setTag(e,s)}}},[a("el-tag",{staticClass:"button-margin tag-left",attrs:{closable:""},on:{close:function(a){t.handleCloseTag(e,s)}}},[t._v(t._s(e))])],1)}))],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.showSetKeyworld=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.saveKeyWord}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"导入分类",visible:t.showInputExcel,width:"30%"},on:{"update:visible":function(e){t.showInputExcel=e}}},[a("el-row",{staticClass:"button-margin"},[a("el-upload",{ref:"excelRef",staticClass:"upload-demo",attrs:{"file-list":t.fileList,accept:" application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",limit:1,"before-upload":t.beforeUploadExcel,"auto-upload":!1,"http-request":t.excelService,action:t.actionExcelUrl()}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("选择文件")]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传excel文件,且不能超过2MB！")])],1)],1),t._v(" "),a("p",[t._v("导入的excel表格列名必须类似如下形式")]),t._v(" "),a("el-row",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.inputExcelDemo,border:""}},[a("el-table-column",{attrs:{prop:"one",label:"一级分类",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"two",label:"二级分类",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"three",label:"三级分类",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"keyword",label:"关联搜索词"}})],1)],1),t._v(" "),a("p",[t._v("注意事项:")]),t._v(" "),a("p",[t._v("1. 搜索关键词之间请用中文格式的，（逗号）隔开")]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancelShowInputExcel}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:t.submitExcel}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"添加二级分类",visible:t.showChildDataDialog,width:"30%"},on:{"update:visible":function(e){t.showChildDataDialog=e}}},[a("el-row",[a("el-col",{attrs:{span:7}},[t._v("二级分类名称")]),t._v(" "),a("el-col",{attrs:{span:15}},[a("el-input",{attrs:{maxlength:20,"auto-complete":"off",placeholder:"请输入创建的二级分类名称"},model:{value:t.addChildDataObj.name,callback:function(e){t.$set(t.addChildDataObj,"name","string"==typeof e?e.trim():e)},expression:"addChildDataObj.name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.showChildDataDialog=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.addChildDataItem}},[t._v("确 定")])],1)],1),t._v(" "),a("goodsList",{attrs:{goodsListObj:t.goodsListObj}}),t._v(" "),a("el-dialog",{attrs:{title:"删除提示",visible:t.deleteDialogVisible,width:"30%"},on:{"update:visible":function(e){t.deleteDialogVisible=e}}},[a("span",[t._v("删除后将不可恢复，确认要删除当前的分类吗？")]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.deleteDialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.sureDelete}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]};var z=a("VU/8")(M,N,!1,function(t){a("gPIG"),a("C4Ev")},"data-v-8ad93c40",null).exports,F=a("u4Bf"),P=a.n(F),R={props:{extname:{type:String,default:"1"}},data:function(){return{clickIndex:0,listData:[],isActivityShow:!0,selectBanner:!1,selectTwo:null,selectThree:null}},created:function(){this.getList()},computed:Object(o.b)({list:"classifyData/list",activeIndex:"classifyData/activeIndex"}),methods:{getList:function(t){var e=this;Object(r.c)({ext1:t||"1"}).then(function(t){t.data&&t.data.length?(t.data.forEach(function(t){t.sortNume=t.orderSeq}),t.data.sort(function(t,e){return t.sortNume-e.sortNume}),e.$store.commit("classifyData/setList",t.data)):e.$store.commit("classifyData/setList",[])}).catch(function(t){e.$message.error(t)})},changeFirst:function(t){this.clickIndex=t,this.$store.commit("classifyData/setActiveIndex",this.clickIndex),this.$store.commit("classifyData/setShowBanner",!0),this.$store.commit("classifyData/setShowGoods",!0)},getdata:function(t){console.log("拖动ing")},datadragEnd:function(t){console.log("拖动前的索引 :"+t.oldIndex),console.log("拖动后的索引 :"+t.newIndex),this.clickIndex=t.newIndex,this.$store.commit("classifyData/setActiveIndex",this.clickIndex),this.$store.commit("classifyData/setList",this.listData)},addItem:function(){var t=this;this.$prompt("请输入名称","提示",{confirmButtonText:"确定",cancelButtonText:"取消",closeOnClickModal:!1,closeOnPressEscape:!1,inputPlaceholder:"请输入名称",inputValue:"",inputPattern:/^[\u4e00-\u9fa5]{2,6}$/,inputErrorMessage:"请输入2-6个汉字"}).then(function(e){var a=e.value,s={hasChildren:"",levelNum:1,ext1:t.extname,name:"",type:1,parentId:0,status:0,banner:[],children:[]},i=0;t.listData.forEach(function(t,e){a===t.name&&(i+=1)}),i>0?t.$message.error("不能创建一样的名字哦！"):(s.name=a,t.listData.push(s),t.$store.commit("classifyData/setList",t.listData))}).catch(function(){t.$message({type:"info",message:"取消输入"})})},juadgeName:function(t,e){var a=0;""===t?(this.$message.error("名字不能为空哦！"),this.$refs.name[e].focus()):this.listData.forEach(function(e,s){t===e.name&&(a+=1)}),a>1&&(this.$message.error("不能创建一样的名字哦！"),this.listData[e].name="",this.$refs.name[e].focus())},clickBannerItem:function(t){this.$store.commit("classifyData/setShowBanner",!0),this.$store.commit("classifyData/setShowGoods",!1)},clickThree:function(t,e){},select:function(t,e,a){3===t?(this.selectTwo=e,this.selectBanner=!1,this.selectThree=a):(this.selectTwo=null,this.selectBanner=!0,this.selectThree=null),this.$store.commit("classifyData/setShowBanner",!1),this.$store.commit("classifyData/setShowGoods",!0),this.$store.commit("classifyData/clickThreeDisplay",{index:e,childrenIndex:a})},activityShow:function(){var t=0;this.listData.length>0&&(this.listData[this.clickIndex].banner.length>0&&this.listData[this.clickIndex].banner.forEach(function(e,a){0===e.status&&(t+=1)}));this.isActivityShow=t>0}},components:{draggable:P.a},watch:{activeIndex:function(t){this.clickIndex=t,this.selectBanner=!1,this.selectTwo=null,this.selectThree=null},list:{handler:function(t){this.listData=t,this.activityShow()},deep:!0}}},G={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"display"},[a("div",{staticClass:"left"},[t.listData.length>0?a("div",{staticClass:"containers"},[a("draggable",{attrs:{move:t.getdata},on:{update:t.datadragEnd},model:{value:t.listData,callback:function(e){t.listData=e},expression:"listData"}},[a("transition-group",t._l(t.listData,function(e,s){return-1!==e.status?a("div",{key:e.id,staticClass:"setname",class:{active:t.clickIndex===s,gray:1===e.status},on:{click:function(e){t.changeFirst(s)}}},[t._v("\n              "+t._s(e.name)+"\n            ")]):t._e()}))],1)],1):t._e(),t._v(" "),a("el-button",{staticClass:"add",attrs:{type:"primary",plain:""},on:{click:t.addItem}},[t._v("+ 新建一级分类")])],1),t._v(" "),t.listData.length>0&&-1!==t.listData[t.clickIndex].status?a("div",{staticClass:"right"},[t.listData[t.clickIndex].banner.length>0&&t.isActivityShow?a("div",{staticClass:"banner",class:{border:!0===t.selectBanner},on:{click:function(e){t.select(0)}}},[a("el-carousel",{attrs:{height:"150px",arrow:"never"}},t._l(t.listData[t.clickIndex].banner,function(e,s){return 0===t.listData[t.clickIndex].banner[s].status?a("el-carousel-item",{key:s},[a("img",{attrs:{src:e.imgUrl,alt:""},on:{click:function(e){t.clickBannerItem(s)}}})]):t._e()}))],1):t._e(),t._v(" "),t._l(t.listData[t.clickIndex].children,function(e,s){return 0===e.status?a("div",{key:s,staticClass:"data"},[a("div",{staticClass:"title"},[t._v("\n          "+t._s(e.name)+"\n          "),a("span",[t._v("热销榜单 >")])]),t._v(" "),a("ul",t._l(e.children,function(i,l){return 0===i.status?a("li",{key:l,class:{two:2===e.style,three:2!==e.style,border:t.selectThree===l&&t.selectTwo===s},on:{click:function(e){t.select(3,s,l)}}},[a("div",{staticClass:"img"},[a("img",{attrs:{src:i.imgUrl,alt:""},on:{click:function(e){t.clickThree(s,l)}}})]),t._v(" "),a("p",{staticClass:"text"},[t._v(t._s(i.name))])]):t._e()}))]):t._e()})],2):t._e()])},staticRenderFns:[]};var q={data:function(){return{operateType:"1",fullscreenLoading:!1,showPublishDialog:!1}},components:{movable:g,coupon:y,goods:z,display:a("VU/8")(R,G,!1,function(t){a("Ft+7"),a("ifRj")},"data-v-87264f94",null).exports,setFirst:D},watch:{operateType:function(t){this.$refs.display.getList(t)}},computed:n()({},Object(o.b)({activeIndex:"classifyData/activeIndex",list:"classifyData/list",getDelFirstList:"classifyData/getDelFirstList",getDelChildDataList:"classifyData/getDelChildDataList",getDelThreeList:"classifyData/getDelThreeList",getDelMovableList:"classifyData/getDelMovableList",showBanner:"classifyData/showBanner",showGoods:"classifyData/showGoods"})),methods:{publish:function(){if(this.showPublishDialog=!1,this.fullscreenLoading=!0,null===this.activeIndex)return this.fullscreenLoading=!1,void this.$message.error("请选择或创建一级分类");if(0===this.list.length)return this.fullscreenLoading=!1,void this.$message.error("请选择或创建一级分类");for(var t=0;t<this.list.length;t++){for(var e=this.list[t],a=0;a<e.banner.length;a++){if(!e.banner[a].name)return this.fullscreenLoading=!1,void this.$message.error("活动专区，"+e.name+" 活动名字不能为空");if(!e.banner[a].imgUrl)return this.fullscreenLoading=!1,void this.$message.error("活动专区，"+e.name+" 活动轮播图不能为空")}for(var s=0;s<e.children.length;s++){if(!e.children[s].name)return this.fullscreenLoading=!1,void this.$message.error("商品分类，"+e.name+" 二级分类名称不能为空");for(var i=0;i<e.children[s].children.length;i++){var l=e.children[s].children[i];if(!l.name)return this.fullscreenLoading=!1,void this.$message.error("商品分类，"+e.name+"--"+e.children[s].name+" 三级分类名称不能为空");if(!l.imgUrl)return this.fullscreenLoading=!1,void this.$message.error("商品分类，"+e.name+"--"+e.children[s].name+" 三级分类图片不能为空")}}}this.postService()},postService:function(){var t=this,e=this.mergeFirst(),a=this.mergeItem(e),s=this.mergeThree(a),l=this.mergeBanner(s);console.log(l),console.log(i()(l)),Object(r.e)(l).then(function(e){t.fullscreenLoading=!1,t.$message({message:"发布成功",type:"success"}),t.getList()}).catch(function(e){t.fullscreenLoading=!1,t.$message.error(e)})},getList:function(){var t=this;Object(r.c)({ext1:this.operateType}).then(function(e){t.$store.commit("classifyData/clearDelList"),t.$store.commit("classifyData/setList",e.data),t.$store.commit("classifyData/setActiveIndex",0)}).catch(function(e){t.$message.error(e)})},mergeFirst:function(){for(var t=this.list,e=this.getDelFirstList,a=0;a<e.length;a++){var s=e[a];t.push(s)}return t},mergeItem:function(){for(var t=JSON.parse(i()(this.list)),e=this.getDelChildDataList,a=0;a<e.length;a++){var s=e[a];t[s.activeIndex].children.push(s.data)}return t},mergeThree:function(t){for(var e=t,a=this.getDelThreeList,s=0;s<a.length;s++){var i=a[s];e[i.activeIndex].children[i.index].children.push(i.data)}return e},mergeBanner:function(t){for(var e=t,a=this.getDelMovableList,s=0;s<a.length;s++){var i=a[s];e[i.activeIndex].banner.push(i.data)}return e},showPublish:function(){0!==this.list.length?this.showPublishDialog=!0:this.$message.error("请创建分类")}}},J={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"goods-classify"},[a("el-row",{staticClass:"classify-header",attrs:{type:"flex",justify:"end"}},[a("el-col",{attrs:{md:21,sm:21}},[a("el-radio",{attrs:{label:"1",border:""},model:{value:t.operateType,callback:function(e){t.operateType=e},expression:"operateType"}},[t._v("小象优品")]),t._v(" "),a("el-radio",{attrs:{label:"2",border:""},model:{value:t.operateType,callback:function(e){t.operateType=e},expression:"operateType"}},[t._v("小象海淘")]),t._v(" "),a("el-radio",{attrs:{label:"3",border:""},model:{value:t.operateType,callback:function(e){t.operateType=e},expression:"operateType"}},[t._v("小程序")])],1),t._v(" "),a("el-col",{attrs:{md:3,sm:3}},[a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{icon:"el-icon-check",type:"success"},on:{click:t.showPublish}},[t._v("发布")])],1)],1),t._v(" "),a("el-row",[a("el-col",{staticClass:"pageDisplay",attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"}),t._v(" "),a("display",{ref:"display",attrs:{extname:t.operateType}})],1),t._v(" "),a("el-col",{staticClass:"scrollview",attrs:{span:18}},[a("div",{staticClass:"grid-content bg-purple"}),t._v(" "),a("el-collapse-transition",[a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.list.length>0&&-1!==t.list[t.activeIndex].status,expression:"list.length > 0 && list[activeIndex].status !== -1"}]},[a("setFirst",{directives:[{name:"show",rawName:"v-show",value:t.showGoods,expression:"showGoods"}]}),t._v(" "),a("movable",{directives:[{name:"show",rawName:"v-show",value:t.showBanner,expression:"showBanner"}],attrs:{extname:t.operateType}}),t._v(" "),a("goods",{directives:[{name:"show",rawName:"v-show",value:t.showGoods,expression:"showGoods"}],attrs:{extname:t.operateType}})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0===t.list.length||-1===t.list[t.activeIndex].status,expression:"list.length === 0 || list[activeIndex].status === -1"}],staticClass:"needActive"},[t._v("\n\t\t\t\t\t\t\t请选择/创建一级分类\n\t\t\t\t\t\t")])])])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"发布提示",visible:t.showPublishDialog,width:"30%"},on:{"update:visible":function(e){t.showPublishDialog=e}}},[a("span",[t._v("发布后，APP商品分类界面将根据当前的编辑重新布局！")]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.showPublishDialog=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.publish}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]};var X=a("VU/8")(q,J,!1,function(t){a("RXyF")},"data-v-734d8f35",null);e.default=X.exports},PiAG:function(t,e){},RQLB:function(t,e){},RXyF:function(t,e){},"Ttu/":function(t,e){},YiL1:function(t,e){},gPIG:function(t,e){},ifRj:function(t,e){},tJCH:function(t,e){}});